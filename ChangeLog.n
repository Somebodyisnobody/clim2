For more detailed instructions on filling in the ChangeLog form, see 
`/fi/doc/procedures/changelogs.txt'.
*******************************************************************************
<version for this commit> (incf *clim-build-version* in utils/packages.lisp)

Documentation changes:	<`none' or give pointer to them>
Tests for new features:	<`no new features', `no tests for new features', or
			 give pointer to test files>

<standard changelog date stamp>
	* <changes go here...>

*******************************************************************************
2.2.1.36

Index: clim/completer.lisp
===================================================================
RCS file: /cvs/clim2/clim/completer.lisp,v
retrieving revision 1.17.22.2
diff -r1.17.22.2 completer.lisp
56a57,58
> ;; Note that the usual completion character, Tab, may get filtered out
> ;; by xm-silica::discard-accelerator-event-p and thus never be seen by the completer.
Index: clim/standard-types.lisp
===================================================================
RCS file: /cvs/clim2/clim/standard-types.lisp,v
retrieving revision 1.38.22.3
diff -r1.38.22.3 standard-types.lisp
496a497
> 	 (version (pathname-version pathname))
498c499
<     (cond ((pathname-version pathname)
---
>     (cond ((and version (not (eq version :unspecific)))
511c512
<               #'(lambda (pn)
---
> 	     #'(lambda (pn)
520c521
<                            (let ((s (search name (pathname-name pn)
---
>                            (let ((s (search name pn-name
Index: tk/event.lisp
===================================================================
RCS file: /cvs/clim2/tk/event.lisp,v
retrieving revision 1.27.22.2
diff -r1.27.22.2 event.lisp
118c118,125
< (defvar *event-matching-event* (x11:make-xevent :in-foreign-space t))
---
> (defvar *event-matching-event* nil)
> 
> (defun make-xevent ()
>   (clim-utils::allocate-cstruct 'x11::xevent :initialize t))
> 
> (defun event-matching-event ()
>   (or *event-matching-event*
>       (setq *event-matching-event* (make-xevent))))
131c138
< 	 (resulting-event *event-matching-event*)
---
> 	 (resulting-event (event-matching-event))
Index: tk/font.lisp
===================================================================
RCS file: /cvs/clim2/tk/font.lisp,v
retrieving revision 1.21.22.4
diff -r1.21.22.4 font.lisp
218a219,223
> (defun make-xrectangle (&key (number 1))
>   (clim-utils::allocate-cstruct 'x11::xrectangle
> 				:initialize t
> 				:number number))
> 
222,223c227,228
< 	 (overall-ink-return (x11:make-xrectangle))
< 	 (overall-logical-return (x11:make-xrectangle)))
---
> 	 (overall-ink-return (make-xrectangle))
> 	 (overall-logical-return (make-xrectangle)))
Index: tk/gcontext.lisp
===================================================================
RCS file: /cvs/clim2/tk/gcontext.lisp,v
retrieving revision 1.32.22.3
diff -r1.32.22.3 gcontext.lisp
57c57,58
< 
---
> (defun make-xgcvalues ()
>   (clim-utils::allocate-cstruct 'x11::xgcvalues :initialize t))
84c85
< 	 (let ((gc-values (x11::make-xgcvalues)))
---
> 	 (let ((gc-values (make-xgcvalues)))
365c366
<   (let ((rs (x11:make-xrectangle-array :number 1)))
---
>   (let ((rs (make-xrectangle-array :number 1)))
383c384
< 	 (rs (x11:make-xrectangle-array :number n)))
---
> 	 (rs (make-xrectangle-array :number n)))
402c403
< 	 (rs (x11:make-xrectangle-array :number n)))
---
> 	 (rs (make-xrectangle-array :number n)))
Index: tk/xlib.lisp
===================================================================
RCS file: /cvs/clim2/tk/xlib.lisp,v
retrieving revision 1.59.22.6
diff -r1.59.22.6 xlib.lisp
58a59,64
> (defun make-xsetwindowattributes ()
>   (clim-utils::allocate-cstruct 'x11::xsetwindowattributes :initialize t))
> 
> (defun make-xwindowattributes ()
>   (clim-utils::allocate-cstruct 'x11::xwindowattributes :initialize t))
> 
63c69
< 	       `(let ((attrs (x11:make-xwindowattributes)))
---
> 	       `(let ((attrs (make-xwindowattributes)))
76c82
< 	 (let ((attrs (x11::make-xsetwindowattributes)))
---
> 	 (let ((attrs (make-xsetwindowattributes)))
187a194,196
> (defun make-xrmvalue ()
>   (clim-utils::allocate-cstruct 'x11::xrmvalue :initialize t))
> 
190c199
<     (let ((xrmvalue (x11:make-xrmvalue)))
---
>     (let ((xrmvalue (make-xrmvalue)))
208,209c217,218
<   (let ((from (x11:make-xrmvalue))
< 	(to-in-out (x11:make-xrmvalue)))
---
>   (let ((from (make-xrmvalue))
> 	(to-in-out (make-xrmvalue)))
342a352,356
> (defun make-xcolor (&key in-foreign-space (number 1))
>   (declare (ignore in-foreign-space))
>   (clim-utils::allocate-cstruct 'x11::xcolor 
> 				:number number :initialize t))
> 
346,348c360
<     (setq foreign-address (if in-foreign-space
< 			      (x11::make-xcolor :in-foreign-space t)
< 			    (x11::make-xcolor :in-foreign-space nil)))
---
>     (setq foreign-address (make-xcolor :in-foreign-space in-foreign-space))
367,368c379,380
<   (let ((exact (x11::make-xcolor :in-foreign-space t))
< 	(closest (x11::make-xcolor :in-foreign-space t)))
---
>   (let ((exact (make-xcolor))
> 	(closest (make-xcolor)))
379c391
<   (let ((exact (x11::make-xcolor :in-foreign-space t)))
---
>   (let ((exact (make-xcolor :in-foreign-space t)))
388c400
<   (let ((y (x11::make-xcolor :in-foreign-space t))
---
>   (let ((y (make-xcolor))
403c415,417
< 		(make-instance 'color :foreign-address y))))))
---
> 		(make-instance 'color 
> 		  :in-foreign-space t
> 		  :foreign-address y))))))
416,417c430,431
<   (let ((exact (x11::make-xcolor :in-foreign-space t))
< 	(closest (x11::make-xcolor :in-foreign-space t)))
---
>   (let ((exact (make-xcolor))
> 	(closest (make-xcolor)))
429c443
<   (let ((y (x11::make-xcolor)))
---
>   (let ((y (make-xcolor)))
466,470c480,509
< (def-foreign-array-resource xcolor-array x11:make-xcolor-array)
< (def-foreign-array-resource xsegment-array x11:make-xsegment-array)
< (def-foreign-array-resource xpoint-array x11:make-xpoint-array)
< (def-foreign-array-resource xrectangle-array x11:make-xrectangle-array)
< (def-foreign-array-resource xarc-array x11:make-xarc-array)
---
> (defun make-xcolor-array (&key (number 1) in-foreign-space (initialize t))
>   (declare (ignore in-foreign-space))
>   (clim-utils::allocate-cstruct 'x11::xcolor-array 
> 				:number number :initialize initialize))
> 
> (defun make-xsegment-array (&key (number 1) in-foreign-space (initialize t))
>   (declare (ignore in-foreign-space))
>   (clim-utils::allocate-cstruct 'x11::xsegment-array 
> 				:number number :initialize initialize))
> 
> (defun make-xpoint-array (&key (number 1) in-foreign-space (initialize t))
>   (declare (ignore in-foreign-space))
>   (clim-utils::allocate-cstruct 'x11::xpoint-array 
> 				:number number :initialize initialize))
> 
> (defun make-xrectangle-array (&key (number 1) in-foreign-space (initialize t))
>   (declare (ignore in-foreign-space))
>   (clim-utils::allocate-cstruct 'x11::xrectangle-array 
> 				:number number :initialize initialize))
> 
> (defun make-xarc-array (&key (number 1) in-foreign-space (initialize t))
>   (declare (ignore in-foreign-space))
>   (clim-utils::allocate-cstruct 'x11::xarc-array 
> 				:number number :initialize initialize))
> 
> (def-foreign-array-resource xcolor-array make-xcolor-array)
> (def-foreign-array-resource xsegment-array make-xsegment-array)
> (def-foreign-array-resource xpoint-array make-xpoint-array)
> (def-foreign-array-resource xrectangle-array make-xrectangle-array)
> (def-foreign-array-resource xarc-array Make-xarc-array)
Index: tk-silica/ol-silica.lisp
===================================================================
RCS file: /cvs/clim2/tk-silica/ol-silica.lisp,v
retrieving revision 1.26.22.2
diff -r1.26.22.2 ol-silica.lisp
108a109,111
> (defun make-xevent ()
>   (clim-utils::allocate-cstruct 'x11::xevent :initialize t))
> 
116c119
<       (let ((event (x11:make-xevent)))
---
>       (let ((event (make-xevent)))
Index: tk-silica/xm-gadgets.lisp
===================================================================
RCS file: /cvs/clim2/tk-silica/xm-gadgets.lisp,v
retrieving revision 1.97.8.4
diff -r1.97.8.4 xm-gadgets.lisp
1542a1543,1580
> (defun warp-pointer-to-dialog-box (dialog framem x-position y-position)
>   ;; The purpose of this function is to ensure that the dialog box becomes
>   ;; selected in the case that the selected sheet must be under the pointer.
>   ;; This is simply to make it easy to say "OK" to the dialog box without
>   ;; having to go to a lot of trouble to select the window.
>   (let ((port (port framem)))
>     (when (eq (silica:port-input-focus-selection port) :sheet-under-pointer)
>       (unless (and x-position y-position)
> 	;; Figure out where the left,top of the dialog box is located.
> 	(multiple-value-setq (x-position y-position)
> 	  (tk::get-values (tk::widget-parent dialog) :x :y))
> 	;; Translate to screen coordinates.
> 	(tk::with-ref-par ((childreturn 0 :int)
> 			   (xreturn 0 :int)
> 			   (yreturn 0 :int))
> 	  (x11:xtranslatecoordinates (port-display port)
> 				     (tk::widget-window dialog)
> 				     (tk::display-root-window (port-display port))
> 				     x-position y-position
> 				     &xreturn &yreturn &childreturn)
> 	  (setq x-position xreturn y-position yreturn)))
>       ;; Decide where to put the pointer.
>       (incf x-position 30)
>       (incf y-position 60)
>       ;; Do it.
>       (x11:xwarppointer
>        (port-display port)
>        0				; src
>        (tk::widget-window dialog)	; dest
>        0				; src-x
>        0				; src-y
>        0				; src-width
>        0				; src-height
>        (fix-coordinate x-position)
>        (fix-coordinate y-position)))))
> 
> (defvar *warp-pointer-to-dialogs* nil)
> 
1557,1560c1595
<                                       (exit-boxes
< 				       '(:exit
< 					 :abort
< 					 :help))
---
>                                       (exit-boxes '(:exit :abort :help))
1563a1599
> 				      (warp-pointer *warp-pointer-to-dialogs*)
1614a1651
> 		
1615a1653,1656
> 		
> 		(when warp-pointer
> 		  (warp-pointer-to-dialog-box dialog framem x-position y-position))
> 		
2068a2110,2111
> ;;; JPM: Note Tab is considered the completion character, and
> ;;; this code prevents it from being used as such.
Index: tk-silica/xt-graphics.lisp
===================================================================
RCS file: /cvs/clim2/tk-silica/xt-graphics.lisp,v
retrieving revision 1.95.8.2
diff -r1.95.8.2 xt-graphics.lisp
165,167c165,168
< 			     :red (truncate (* x red))
< 			     :green (truncate (* x green))
< 			     :blue (truncate (* x blue)))))))))
---
> 		:in-foreign-space t
> 		:red (truncate (* x red))
> 		:green (truncate (* x green))
> 		:blue (truncate (* x blue)))))))))
Index: tk-silica/xt-silica.lisp
===================================================================
RCS file: /cvs/clim2/tk-silica/xt-silica.lisp,v
retrieving revision 1.108.22.6
diff -r1.108.22.6 xt-silica.lisp
42c42
<      (compose-status :initform (x11:make-xcomposestatus)
---
>      (compose-status :initform (make-xcomposestatus)
50a51,53
> (defun make-xcomposestatus ()
>   (clim-utils::allocate-cstruct 'x11::xcomposestatus :initialize t))
> 
980c983,988
<       mapping))))
---
>       mapping)))
> 
> (defmethod font-set-from-font-list ((port xt-port) font-list)
>   (error "not yet implemented for non-ics lisp"))
> 
> )

*******************************************************************************
2.2.1.35

1999-01-07  Kevin Layer  <layer@ultra>

	* Makefile.wnn: for redhat 5

	* silica/classes.lisp: fix compile-time warning
	* tk/font.lisp: fix compile-time warning
	* utils/defun-utilities.lisp: fix compile-time warning

	* aclpc/acl-class.lisp: fix compile-time warnings
	* silica/scroll-pane.lisp: fix compile-time warnings
	* utils/processes.lisp: fix compile-time warnings

	* Makefile.hpprism: add depend on climxm.sl--why didn't this come
	up before??

*******************************************************************************
2.2.1.34

Wed Dec 9 12:00:00 1998 Jeff Morrill  <jmorrill@pointnclick.com>

     * MORE changes to the following files move sources toward the 
       goal of compiling in :case-insensitive-upper mode, or for
       removing obsolete cases such as #+aclpc 
       (making the code simpler and easier to maintain).
        utils/utilities
        utils/packages
        utils/excl-verification
        sys/sysdcl
        sys/sysdcl-pc
        misc/compile-1
        clim/standard-types
        clim/prefill
     * Syntactic cleanup and removal of compiler warnings:
        silica/gadgets
        silica/db-layout
        clim/output-protocol
        clim/input-protocol
        clim/frames
     * Enhance radio-boxes to enable multicolumn layout
        silica/db-button
     * Enable arrow keys on NT
        clim/input-editor-commands
     * Make sure all foreign structures are allocated in :C space
       so that it is safe to call free() on them.
        utils/lisp-utilities
        tk-silica/xm-gadgets
        tk-silica/ol-gadgets
        tk-silica/ol-frames
        tk-silica/image
        tk/xt-defs
        tk/xm-widgets
        tk/xm-font-list
        tk/xm-defs
        tk/xlib
        tk/widget
        tk/resources
        tk/ol-widgets
        tk/ol-init
        tk/macros
        tk/graphics
        tk/font
        tk/convenience
      * aclpc/*.lisp
        Large number of changes to move toward case-sensitive lisp.
        Many bug fixes including printing from a button callback,
        scroll bars in text fields, arrow keys, support of pixmap-3
        unix file format, etc.

Wed Nov 4 12:00:00 1998 Jeff Morrill  <jmorrill@pointnclick.com>

     * Changes to the following files move sources toward the 
       goal of working in :case-sensitive-lower mode, or for
       removing obsolete cases such as #+aclpc and #+ansi-90
       (making the code simpler and easier to maintain).
        utils/processes
        utils/packages
        utils/lisp-utilities
        utils/excl-verification
        utils/defun
        utils/clos
        sys/sysdcl
        silica/scroll-pane
        silica/gadgets
        silica/framem
        silica/db-box
        demo/browser
        compatibility/browser
        clx/sysdcl
        clx/pkgdcl
        cloe/sysdcl
        cloe/pkgdcl
        clim/text-recording
        clim/text-formatting
        clim/temp-strings
        clim/standard-types
        clim/ptypes1
        clim/present
        clim/frames
     * tk/font: need definition of fonts-of-font-set when #-ics
     * test/test-suite: fix bug that matters for #+mswindows but not #+unix
     * sys/compile: clean this up and make it more sensible 
     * silica/mirror, aclpc/acl-mirror: fix set-sheet-mirror-edges*
     * silica/layout: fix bug switching layouts under #+mswindows
     * silica/db-slider: fix bug repainting sliders
     * silica/db-scroll: fix bug repainting after scrolling
     * silica/db-layout: fix bug enforcing max-height constraint (spr18629)
     * demo/winlisp: moved demo stuff here from aclpc
     * clim/output-protocol: fix bug with text wrapping (spr18586)
     * clim/activities: fix bad interaction between AVV frames and 
        activity frames
     * clim/accept-values: fix binding of *application-frame*
     * Lots of changes to the #+mswindows port to clean up the mess
        and to fix another batch of problems (starting scheduler,
        event loop, event distribution, mirror size and position,
        reading BMP files, frame deiconification, noting-progress hanging)

*******************************************************************************
2.2.1.33

1998-11-03    <layer@HOBART>

	* pre-silica/genera-implementation.lisp: remove ^Z character
	because it was messing up new version of CVS

*******************************************************************************
2.2.1.32

Sat Sept 19 12:00:00 1998  Jeff Morrill <jmorrill@pointnclick.com>

	* clim/frames, clim/gestures, silica/classes, tk-silica/xm-frames: 
           enhancement to support double-click gesture
      * clim/output-protocol: add (setf stream-default-view) 
           for string-output-stream (resolve missing method error)
      * aclpc/winwidgh, aclpc/acl-frames, aclpc/acl-class: 
           partial solution to support tooltips
      * aclpc/acl-widget: fixes for checkbox, fix (setf gadget-value)
           to anticipate the callback might do a throw, cleanups
      * aclpc/acl-port: fix problem mapping text styles to the right font
      * aclpc/acl-mirror: fix for checkbox
      * aclpc/acl-medium: partial solution to transparent rectangular tile
      * aclpc/acl-frames: bulletproofing for select-file, fix menubar to
           see command name only, cleanup
      * aclpc/acl-class: handle dblclick events correctly, cleanup

*******************************************************************************
2.2.1.31

Wed Aug 12 12:00:00 1998  Jeff Morrill <jmorrill@pointnclick.com>

	* silica/db-label: fix handle-repaint of generic-label-pane
        * aclpc/acl-class: scroll correctly in scroll-bars, update menu bars
        * aclpc/acl-dc: fixes for flipping-ink, dashed lines, stipples
        * aclpc/acl-frames: update menu bars, fix select-file segv,
            keep noting-progress from hanging
        * aclpc/acl-medium: make color->wincolor more accurate, fix
            stipples and draw-pattern*
        * aclpc/acl-port: keep the event processor from hanging lisp
        * aclpc/acl-prel: fixes for stipples and draw-pattern*
        * aclpc/acl-scroll: scroll correctly in scroll-bars
        * aclpc/acl-widget: scroll correctly in scroll-bars

*******************************************************************************
2.2.1.30

Wed Aug 12 09:22:38 1998  Kevin Layer  <layer@ultra>

	* utils/last.lisp: bug7227: add version specification to
	load-patches

*******************************************************************************
2.2.1.29

Tue Jul 21 09:35:09 1998  Kevin Layer  <layer@ultra>

	* buildclim.cl,
	* Makefile.generic: remove :print-startup-message argument to
	generate-application

Mon Jul 20 15:00:38 1998  Kevin Layer  <layer@ultra>

	* tk-silica/xt-silica.lisp: remove :survive-dumplisp reference
	* Makefile.defs: remove climgg.fasl from depends
	* Makefile.generic: remove climgg.fasl rule
	* hpgl/hpgl-medium.lisp: fix compile time warnings
	* hpgl/hpgl-port.lisp: fix compile time warnings
	* misc/compile-1.lisp: add back wnn and hpgl module compilation
	* tk/gcontext.lisp: fix compile time warnings

*******************************************************************************
2.2.1.28

Mon Jul 20 12:00:00 1998  Jeff Morrill <jmorrill@pointnclick.com>

        * misc/compile-1: don't compile systems that are obsolete or broken
        * tk-silica/xm-silica: resolve spr17831 & spr17939 regarding 
           destroying a widget that is already destroyed
        * utils/last: provide :climnt for #+mswindows
        * tk-silica/gc-cursor: implement reinitialize-gc-cursor
	* silica/db-label: repaint generic label panes correctly
        * silica/db-scroll: use method dispatch rather than typep and
           confused reader conditionalizations
        * aclpc/acl-widget: don't divide by zero when scrolling
        * aclpc/acl-scroll: lots of scroll bar fixes
        * aclpc/acl-prel: be more careful when printing warnings
           in order to avoid recursive warning loop
        * aclpc/acl-port: better font mapping
        * aclpc/acl-medium: fixes for flipping-ink, pixmaps
        * aclpc/acl-frames: fixes for menu-choose, select-file, noting-progress
        * aclpc/acl-dc: various changes to device context handling
        * aclpc/acl-class: two fixes for better handling of OnCommand events.

*******************************************************************************
2.2.1.27

Sat Jul 11 08:42:42 1998  Kevin Layer  <layer@ultra>

	* utils/last.lisp: patch loading fix

*******************************************************************************
2.2.1.26

Wed Jul 08 16:21:38 1998    <layer@HOBART>

	* utils/defun.lisp: bug7098: fix package qualifier for
	define-simple-parser

*******************************************************************************
2.2.1.25

Mon Jul  6 16:07:31 1998  Kevin Layer  <layer@ultra>

	fix copyright notices

Mon Jul 06 14:45:24 1998    <layer@HOBART>

	* tk-silica/gc-cursor.cl: start of gc hook fix
	* Makefile.generic: fix tags rule
	* aclpc/acl-frames.lisp: bug7092: package qualify some
	check-last-error calls
	* clim/db-list.lisp: bug7092: add initialize-pull-down-menu and
	make-pull-down-menu back.
	* clim/design-recording.lisp: bug7092: add nyi definition
	* aclpc/acl-class.lisp: bug7092: fix ffi calls

*******************************************************************************
2.2.1.24

Mon Jul 06 12:36:16 1998    <layer@HOBART>

	* utils/last.lisp: conditionalize load-patches call based on
	version of lisp

*******************************************************************************
2.2.1.23

Mon July 1  1998  
       Possible source tree for release 5.0 of ACL.

        * aclpc/acl-class: Fix problems with LoadCursor and activate-default-gadget
        * aclpc/acl-dc: Explore better device contexts
        * aclpc/acl-frames: Fix problems with error checking
        * aclpc/acl-medium: Fix problems with foreground & background colors
        * aclpc/acl-port: Fix problems drawing from a background thread
        * aclpc/acl-port: Use FormatMessage to get error messages from NT
        * aclpc/acl-widget: Mostly stuff to support BBN's widget use
        * aclpc/pkgdcl: Put back package lock stuff since it won't build otherwise
        * aclpc/winwidgh: Move foreign function definitions here
        * clim/db-menu: support non-native menu-bars better
        * tk-silica/gc-cursor: don't trust svref (spr17568)
        * utils/last: provide required arguments
        * utils/transformations: optimization

*******************************************************************************
2.2.1.22

Mon Jun 22  1998  

        * aclpc/acl-class: mostly just cleanup
        * aclpc/acl-frames: fix command-table bugs for BBN
        * aclpc/acl-medium: fix medium-draw-string* for newline,
          make draw-pattern sorta work for stipples
        * aclpc/acl-mirror: improved look & feel
        * aclpc/acl-port: fix text-size problems
        * aclpc/acl-prel: improved look & feel, improved error messages
        * aclpc/acl-widget: work on menu-bar widgets for BBN
        * clim/output-protocol: null medium is a transient initial state
          we should tolerate
        * silica/db-border: fix bug in macro LABELLING (#+microsoft-32)
	* utils/packages: bump version id

*******************************************************************************
2.2.1.21

Tue Jun  9 23:55:40 1998  Kevin Layer  <layer@ultra>

	* Makefile.defs: new file utils/last, for patches
	* Makefile.sgi4d-svr4: don't link with -lcvt, because it doesn't
	exist on grape and isn't (apparently) needed anymore
	* aclpc/acl-scroll.lisp: remove setting of
	excl::*enable-package-locked-errors* to nil
	* aclpc/pkgdcl.lisp: ditto
	* aclpc/sysdcl.lisp: new file utils/last, for patches
	* misc/compile-1.lisp: remove dead code
	* misc/dev-load-1.lisp: remove dead code
	* sys/compile.lisp: new file utils/last.fasl
	* sys/sysdcl.lisp: new file utils/last.lisp
	* tk/xlib.lisp: in (method initialize-instance :after (image))
	allocate with x11::system-malloc instead of excl::malloc, because
	the latter can't be freed with free(), which is what will happen
	to this memory (eventually)
	* tk-silica/xt-silica.lisp: warnings for unix
	* utils/last.lisp: new file to load patches
	* xlib/xlib-funs.lisp: new system-malloc

*******************************************************************************
2.2.1.20

Mon Jun  1 16:05:13 1998  Kevin Layer  <layer@ultra>

	* Makefile.generic: windows/unix hacking
    the rest is to reduce the number of warnings on UNIX to 1
	* clim/frames.lisp
	* clim/text-formatting.lisp
	* homegrown/db-menu.lisp
	* hpgl/hpgl-medium.lisp
	* misc/MyDrawingA.c
	* misc/compile-1.lisp
	* tk/resources.lisp
	* tk/widget.lisp
	* tk/xlib.lisp
	* tk-silica/image.lisp
	* tk-silica/xt-gadgets.lisp
	* tk-silica/xt-graphics.lisp
	* tk-silica/xt-silica.lisp
	* wnn/strings.c

*******************************************************************************
2.2.1.19 (from pnc)

* tk-silica/xt-frames and xt-silica: spr17465, stop windows from
  iconifying in Sparc Common Desktop Environment when switching
  workspaces.
* clim/command-processor: added comments describing spr16572 inability
  of the command-processor to detect invalid commands.
* aclpc/acl-widget: native implementation of outlining-pane
* aclpc/acl-frames: implement noting-progress thermometer
* aclpc/acl-class: fix bugs with pointer cursor and button show-as-default
* aclpc/*: cleanup; fix some of the many bugs with colors and patterns

*******************************************************************************
Fri May 29 08:58:03 1998  Kevin Layer  <layer@ultra>

    new files:
	* Makefile.linux
    changed files:
	* Makefile: for `linux' host

*******************************************************************************
2.2.1.18 -- public release on ACL 5.0.beta

1998-05-27    <layer@HOBART>

	* makedist.sh: tweaks
	* readme.win32: changes from Jeff Morrill

1998-05-26    <layer@HOBART>

    new files
	* makedist.sh
	* readme.win32

*******************************************************************************
2.2.1.17 (from pnc)

Tues May 26 9:00:00 1998  Jeff Morrill <jmorrill@pointnclick.com>

        * silica/classes: Fix default back/fore of medium (for NT)
        * postscript/postscript-medium: define nyi
        * demo/custom-records: fix little bug
        * clim/menus: cleanup
        * aclpc/*.lisp: Cleaned up, reduced compiler warnings,
          and fixed several bugs found during testing

*******************************************************************************
2.2.1.16

Mon May 18 18:00:43 1998  Kevin Layer  <layer@ultra>

merge changes from acl50pnc branch (2.2.1.14.*) onto acl50 branch

tag on acl50pnc branch for next join: acl50pnc_join_1

*******************************************************************************
2.2.1.15

Documentation changes:	none
Tests for new features:	no new features

Wed May 13 08:15:36 1998  Kevin Layer  <layer@ultra>

	* Makefile.generic: don't hardwire source file and xref info
	* tk-silica/last.lisp: load-patches call was wrong
	* tk-silica/xm-gadgets.lisp: deal with package violation

*******************************************************************************
2.2.1.14.4 (on acl50pnc branch)

1998-05-18    <layer@HOBART>

Jeff, please look at the jm>> flagged changes.  Thanks.

    The big picture:
	* reduce compile time warnings
	* Franz uses gnu make and Makefile (and Makefile.windows),
	  PNC uses nmake and Makefile.win32
    The changes:
	* Makefile: include ../makefile.defs
	* Makefile.windows: new file
	* Makefile.generic: more windows friendly
	* Makefile.win32: don't mess with c:\.clinit.cl
	* Makefile.* (rest of them): remove old stuff
	* buildclim.cl: fixes for windows
    >> all .lisp files have changes to lessen the compile time warnings
	* aclpc/acl-class.lisp: remove mm defclass hack
	* aclpc/acl-dc.lisp: warnings
	* aclpc/acl-mirror.lisp: remove mm defclass hack
	* aclpc/acl-port.lisp: use multi-case friendly constructs
	* aclpc/acl-prel.lisp: use multi-case friendly constructs
	* aclpc/acl-scroll.lisp: reformatting
	* aclpc/acl-widget.lisp: move (method draw-picture-button
	(hbutton-pane) t t t) method after definition of hbutton-pane
	class
	* clim/accept-values.lisp: warnings
	* clim/basic-translators.lisp: warnings
	* clim/db-menu.lisp: remove mm defclass hack;
jm>>	On Windows, don't use
jm>>	(method handle-event (pull-down-menu pointer-exit-event))
jm>>	from this file, use the one defined elsewhere; 
jm>>	On Windows, don't use `choose-from-pull-down-menu' defined in this
jm>>	file; 
	* clim/db-text.lisp: remove 2nd definition of
	(method handle-repaint :around (text-editor-mixin t)) per Jeff Morrill
	* clim/frames.lisp: remove mm defclass hack
	* clim/gadget-output.lisp: warnings
	* clim/graph-formatting.lisp: warnings
	* clim/input-editor-commands.lisp: warnings
	* clim/input-protocol.lisp: warnings; remove mm defclass hack
	* clim/interactive-protocol.lisp: remove mm defclass hack
	* clim/output-protocol.lisp: warnings
	* clim/ptypes1.lisp: remove mm defclass hack
	* clim/recording-protocol.lisp: warnings
	* postscript/postscript-medium.lisp: warnings
	* postscript/sysdcl.lisp: remove redundant load of clim-standalone
	* silica/db-button.lisp: warnings
	* silica/db-scroll.lisp: remove mm defclass hack; warnings
	* silica/framem.lisp: warnings
	* silica/gadgets.lisp: remove mm defclass hack
	* silica/mirror.lisp: don't use "defun-inline mirror->sheet" on
	Windows (use definition from elsewhere)
	* silica/scroll-pane.lisp: warnings
	* sys/compile.lisp: force case insensitive lower compile when in
	case sensitive lisp; many other changes to reduce number of
	compile time warnings and build fasl files on Windows
	* utils/base-designs.lisp: formatting
	* utils/designs.lisp: warnings
	* utils/packages.lisp: multi-case friendly
	* utils/processes.lisp: mdproc is outta here

*******************************************************************************
2.2.1.14.3 (on acl50pnc branch)

From PNC on 5/15/98

        * silica/medium.lisp - Cleanup dead aclpc code
        * clim/tracking-pointer.lisp - Patched for spr17056
        * aclpc/pkgdcl.lisp - Improve required modules
        * aclpc/acl-class.lisp - Tweak processing of WM_SETCURSOR
        * aclpc/acl-frames.lisp - Fix select-file for spr17465
        * aclpc/acl-medium.lisp - A portion of spr17487
          aclpc/acl-prel.lisp
        * aclpc/acl-port.lisp - Better fonts and background colors
          aclpc/acl-widget.lisp
        * aclpc/acl-scroll.lisp - (provide :climnt) 
*******************************************************************************
2.2.1.14.2 (on acl50pnc branch)

Fri May  8 14:20:32 1998  Kevin Layer  <layer@ultra>

	all changes to remove dependence on aclpc/winapi.lisp and
	aclpc/cgapi.lisp:

	* Makefile.win32
	* aclpc/acl-class.lisp
	* aclpc/acl-frames.lisp
	* aclpc/acl-medium.lisp
	* aclpc/acl-mirror.lisp
	* aclpc/acl-port.lisp
	* aclpc/acl-prel.lisp
	* aclpc/acl-scroll.lisp
	* aclpc/acl-widget.lisp
	* aclpc/Attic/cgapi.lisp
	* aclpc/clim.ico
	* aclpc/pkgdcl.lisp
	* aclpc/sysdcl.lisp
	* aclpc/winwidgh.lisp
	* demo/winlisp.lisp

*******************************************************************************
2.2.1.14.1 (on acl50pnc branch)

CLIM Port to ACL 5.0

Documentation changes: none
Tests for new features: no new features

Fri May 1 10:00:00 1998  jmorrill@pointnclick.com and kreti
     * Makefile.win32: New file for automating clim builds on Windows
     * aclpc\winapi: New file containing foreign function interface to Windows
     * aclpc\cgapi: New file containing random bits from common graphics
     * aclpc\*: Lots of changes to remove common graphics, to revise the 
       foreign function definitions, to accomodate real OS threads, to
       accomodate Windows95, and to support Makefile.win32.
     * clim\basic-translators: Prevent compile-time problem redefining comtab.
     * clim\frames: Move some aclpc stuff from here to aclpc\acl-frames.
     * clim\menus: (#+microsoft-32) don't reuse windows across OS threads
     * demo\demo-driver: (#+microsoft-32) don't reuse windows across OS threads
     * silica\event: convert port-event-wait from function to method so we
       can specialize on it.
     * silica\port: never run an OS thread at priority 1000.
     * silica\sheet: clean up a duplicate definition
     * tk-silica\xt-gadgets: Make arrow keys work as menu bar 
       command accelerators (spr17142)
     * utils\packages: added defn for rcsnote so NT builds work at PNC.
     * wnn\bdic.c: include unistd.h so unix builds work at PNC.
     * wnn\jl.c: include unistd.h so unix builds work at PNC.
     * wnn\js.c: fix socket calls so unix builds work at PNC.
       I don't see how this ever compiled.  There was
       even a typo (sockaddr_un should be sockaddr_in).

*******************************************************************************
2.2.1.14

Mon Apr 27 16:21:48 1998  Kevin Layer  <layer@ultra>

	* utils/packages.lisp: fix hacking of excl::*version-info*

*******************************************************************************
Thu Apr 16 11:55:08 1998  Kevin Layer  <layer@ultra>

	* Makefile: add default HOST for aix/rs6000

*******************************************************************************
2.2.1.13

Wed Apr 15 10:21:39 1998  Kevin Layer  <layer@ultra>

	* Makefile.generic: new rule: cleanfasls
	* misc/compile-1.lisp: set *print-case* to ;downcase since we
	compile in a case insensitive lower mode

*******************************************************************************
Wed Apr  8 10:13:57 1998  Kevin Layer  <layer@ultra>

	* Makefile: set default host for SGI
	* Makefile.generic: add wnn.xx to depend list for `compile'

Sun Apr  5 20:59:41 1998  Kevin Layer  <layer@ultra>

	* Makefile: set default host for HP

*******************************************************************************
Documentation changes:	none
Tests for new features:	no new features

Sat Mar 28 01:05:08 1998  Kevin Layer  <layer@ultra>

    new files:
	* buildclim.cl

*******************************************************************************
2.2.1.12

Documentation changes:	none
Tests for new features:	no new features


Tue Mar 24 19:48:36 1998  Duane Rettig  <duane@beta>

	* tk/xm-init.lisp:
	* tk-silica/xm-gadgets.lisp: fix callback addresses on restart in acl 5.0

	* utils/packages.lisp: increment

*******************************************************************************
2.2.1.11

Documentation changes:	none
Tests for new features:	no new features


Fri Mar 20 14:10:22 1998  Steve Haflich  <smh@romeo>

	* Committing the following merged changes from PNC.


Mon Feb 9 18:30:00 1998  jmorrill@pointnclick.com and kreti

	* aclpc/acl-medium: optimize color->wincolor
	* aclpc/acl-dc: remove obsolete hash-table from dc-image
	* clim/db-stream:
           1. optimize invoke-with-drawing-options
           2. change minimum default-space-requirements from 0 to 1
	* aclpc/acl-frames: 
           1. make gesture-spec-for-mswin work for nonprinting characters
           2. add an accelerator table to acl-top-level-sheet
           3. modify note-frame-layout-changed to clear "port-trace-thing"
           4. update make-pane-class to use mswin-scroll-bar instead of the generic one
	* aclpc/acl-class: modify clim-wind-proc to 
           1. generate presentation-event upon wm_keydown if key is accelerator
           2. utilize the 'hwnd' part of wm_hscroll and wm_vscroll
           3. remove method for wm_setcursor (by commenting out for now)
           4. change register-window-class to take a default cursor
        * aclpc/acl-port: change call to register-window-class to pass in default cursor
	* tk-silica/xt-graphics: optimize port-draw-rotated-text, medium-draw-text*,
          and find-rotated-text-pixmap.
        * aclpc/acl-widget: 
           1. add an mswin-scroll-bar class and associated methods
           2. fix gadget-value of mswin-text-edit to avoid bashing value to integer
           3. new realize-mirror method for mswin-scroll-bar
        * aclpc/acl-prel: open a scrollbar control
        * postscript/postscript-port: don't give postscript double-float exponent markers
        * Somebody (pr?) put in a lot of calls to scroll-bar-current-size, which does not
          exist.  Perhaps they meant scroll-bar-size.  Remove references in:
          silica/db-scroll
          silica/gadgets 
          silica/scroll-pane 
          clim/prefill
	* utils/packages.lisp: incf version number from 4 to 11

*******************************************************************************
2.2.1.10

Documentation changes:	none
Tests for new features:	no new features

Wed Mar 18 10:26:23 1998  Kevin Layer  <layer@ultra>

	* Makefile.objs: don't use mv-nfs
	* Makefile.defs: don't use mv-nfs
	* Makefile.generic: don't hack
	logical-pathname-translations-database-pathnames return value, not
	needed anyway
	* tk/load-xm.lisp: only hack *dlopen-mode* on suns

*******************************************************************************
2.2.1.9

Documentation changes:	none
Tests for new features:	no new features

Tue Mar 17 12:26:36 1998  Duane Rettig  <duane@beta>

	* Makefile:
	* Makefile.alpha: 
	* demo/process-browser.lisp:
	* test/test-driver.lisp: Fix os-threads feature

	* utils/packages.lisp: increment version

*******************************************************************************
2.2.1.8

Documentation changes:	none
Tests for new features:	no new features

Fri Mar 06 09:13:49 1998    <layer@HOBART>

	* Makefile.defs: CLIM defaults to climi.dxl
	* Makefile.generic: :purify back to `t' since lisp bug fixed
	* demo/README: cosmetic

*******************************************************************************
2.2.1.7

Sat Feb 28 15:18:45 1998  Duane Rettig  <duane@beta>

	* Makefile.rs6000: Fix bug in rs/6000

	* tk/xt-funs.lisp: Fix bug in rs/6000

	* tk-silica/gc-cursor.lisp: Conform gc hooks to new style
 

*******************************************************************************
2.2.1.6 (merge from 2.2.1.5 branch)

*******************************************************************************
2.2.1.5.2

Thu Feb 12 19:54:57 1998  Kevin Layer  <layer@ultra>

	* Makefile.generic: add to `clean'

Wed Feb 11 16:53:04 1998    <layer@HOBART>

	* demo/README: fix instructions

*******************************************************************************
2.2.1.5.1

Fri Feb  6 17:24:48 1998  Kevin Layer  <layer@ultra>

	* Makefile.sgi4d-svr4: -n32, etc

Thu Feb  5 10:15:13 1998  Kevin Layer  <layer@ultra>

	* Makefile.generic: disable the autoload warning

*******************************************************************************
2.2.1.5

Documentation changes:	none
Tests for new features:	no new features

Tue Feb 03 09:17:26 1998    <layer@HOBART>

	* ChangeLog: use generate-application to build clim image

*******************************************************************************
2.2.1.4
	
Documentation changes:	none
Tests for new features:	no new features

Tue Dec 23 14:40:23 1997  duane@beta

	* Makefile.cobjs: Remove hp-specific targets
	* Makefile.hpprism: Fix for hpux 10.20
	* misc/climgccursor.c: Ansify
	* tk/load-xm.lisp: Fix for 5.0 unix
	* tk/make-classes.lisp: Fix for 5.0 unix
	* tk/xm-init.lisp: Fix for 5.0 unix
	* utils/packages.lisp: incf version

*******************************************************************************
2.2.1.3
	
Documentation changes:	none
Tests for new features:	no new features

This commit coule be the second release candidate for ACL WIN CLIM
2.2.1 if there is one.  It is now possible to build a standalone
ACLWIN runtime application with CLIM.

Thu Oct 30 11:59:43 1997  Steve Haflich  <smh@romeo>

	* utils/packages.lisp: bump build number
	* sys/do.lisp: Conditionalize some of the calls that won't work
	  in ACLWIN runtime, e.g. room.
	* sys/load.lisp: Fix a symbol typo recently introduced by Tom.
	  This file is only used by ACLWin.
	* aclpc/acl-class.lisp: Remove symbolic msg-name debugging stuff in
	  aclwin since it depends on aprops-list which doesn't exist in a
	  runtime.
	
*******************************************************************************	
2.2.1.2

Documentation changes:	none
Tests for new features:	no new features

Mon Oct 20 16:04:27 1997  Kevin Layer  <layer@ultra>

	* Makefile.defs: 
	* Makefile.generic: 
	* Makefile.hpprism: 
	* Makefile.linux86: 
	* Makefile.rs6000: 
	* Makefile.sun4-svr4: 
	* Makefile.sun4-svr4-ol: 
	* Makefile.sunx86: packaging for unix

	* clim/db-stream.lisp: 
	* clim/graphics-recording.lisp: 
	* clim/japanese-input-editor.lisp: 
	* clim/standard-types.lisp: 
	* clim/table-formatting.lisp: 
	* demo/custom-records.lisp: 
	* hpgl/hpgl-medium.lisp: 
	* tk/xm-widgets.lisp: 
	* utils/clos-patches.lisp: 
	* utils/lisp-utilities.lisp: 
	* utils/packages.lisp: get rid of compile time warnings

	* test/test-driver.lisp:
	* demo/process-browser.lisp: target=os-threads fixes

	* clim/histories.lisp: bug2419 was fixed, remove hack
	* misc/dump.lisp: dumplisp without a warning
*******************************************************************************
2.2.1.1

Documentation changes:	none
Tests for new features:	no new features

Mon Oct 13 13:22:58 1997  Kevin Layer  <layer@ultra>

	* Makefile.cobjs: parameterize .so extension (for HP, where it is .sl)
	* Makefile.defs: parameterize .so extension (for HP, where it is .sl)
	* Makefile.generic: parameterize .so extension (for HP, where it
	is .sl)
	* Makefile.hpprism: fixes to make clim work at all on 5.0
	* Makefile.sun4-svr4: don't define `CL' (why, though????)
	* Makefile.wnn: parameterize .so extension (for HP, where it is .sl)
	* demo/custom-records.lisp: fix compile time warning
	* sys/sysdcl.lisp: fix compile time warnings
	* tk/load-xm.lisp: fix for all acl-based lisps
	* tk/pkg.lisp: fix compile time warning
	* tk-silica/pkg.lisp: fix compile time warning
	* utils/excl-verifications.lisp: move stuff to packages.lisp
	* utils/packages.lisp: add version info
	* wnn/load-wnn.lisp: fix for all acl-based lisps
	* wnn/pkg.lisp: fix compile time warning
	* xlib/ffi.lisp: fix for 5.0
	* xlib/load-xlib.lisp: fix for 5.0

*******************************************************************************
Fri Oct  3 17:47:17 PDT 1997  Tom McClure <tomj@romeo>

CLIM 2.2alpha ACLWin

 aclpc/acl-mirror - pnc's fix for activity frame event queues
 aclpc/acl-mirror - frames without menu bars werent' sizing correctly
 clim/frames - port-trace-thing was getting mangled on layout change, spr16580
 demo/winlisp - renamed duplicate condition-restart-loop to
                prevent build error on ACLWin
 sys/do - changed ACLWin build script to always use load.lisp,
          even for no-demo loads (setf *no-clim-demos* t)
 sys/load - compile-if-new hack for defsystem.fsl didn't work if
            source was missing (eg in a distribution)
 tk/widget - Colin commented out a line here so Clint Hyde could run
             on SunOS4

*******************************************************************************
Tue Sep  2 21:00:53 PDT 1997  Tom McClure <tomj@romeo>


CLIM 2.2alpha NT


Merged Paul Robertson's latest changes in, also committing many of my
own fixes, and some from pointnclick.


Paul's mods are marked "pr Aug97":

 aclpc/acl-class.lisp - *msg-names* array has 4096 elts but
                        (apparently?) bogus windows messages greater
                        than 4096 were coming in, added a check for
                        this in msg-name
 aclpc/acl-frames.lisp - new fns map-command-menu-ids and
                         enable-menu-items, for graying out menu
                         items when CLIM is busy or modal;
                         in conjunction with new macro
                         with-menu-disabled in clim/frames.lisp
 aclpc/acl-widget.lisp - added unxlat-newline-return for some CRLF
                         hackery in mswin-text-edit's gadget-value
 clim/frames.lisp - hacked default-frame-top-level to expose windows
                    far off screen (at x=10,000 y=10,000) and move
                    them back when their growing pains are finished.
                    Fixes bug where window is exposed before :compute
                    panes figure out how big they should be.
 clim/standard-types.lisp - hacked simple-lisp-object-parser to act
                            differently on unexpected EOF on windows (?)
 silica/framem.lisp - added *in-layout-frame* to acl86win32

My mods (been a while...):

    general:

 several keyboard gestures missing, notably scroll-up and home; fixed
 in *vk->keysym* in acl-port.lisp, mods also in clim/gestures.lisp,
 clim/input-editor-commands.lisp and tk-silica/xt-silica.lisp.

 added default prompt-y-offset for most widget prompts, since they
 looked so dorky with the text way up top.  the prompt-for-accept
 :around method in clim/accept-values.lisp now alters the stream
 cursor position by the offset amount before drawing the prompt and
 alters it again (back up) before drawing the widget.  Fixed some
 alignment problems while I was at it.

 renamed exit-dialog gesture in accept-values.lisp to default-dialog
 gesture, since OK isn't always the default.  :newline or :end
 should execute the default, and :escape has been added as an
 abort-dialog gesture.  made behavior more consistent.

 clim/activities.lisp: changed default-frame-top-level for activities
 to correctly bind *standard-output* and *standard-input*.

 changed erase-output-record in clim/record-protocol.lisp to send one
 big rectangle for erasing instead of several small ones, since users
 complained that erase-output-record was slow.  Probably wins most of
 the time.

 clim/surround-output.lisp: improved :shadow look. :underline looks
 better too (now has one-pixel space between output and underline).

 silica/db-scroll.lisp - update-scroll-bars wasn't taking buffered
 text-output into consideration, so it would tend to get lost
 (couldn't scroll down that far).

 optimization of transform-position broke output-recording in the
 newly added regions of windows that got user-resized to be bigger
 than their initial size, since the sheet-region gets destructively
 modified in a bunch of places to avoid consing.  So, I fixed it by
 commenting out the destructive stuff from sheet-device-region method
 on sheet-transformation-mixin and haven't seen a performance hit yet.

 improved test/test-suite.lisp's write-test-caption, made minor
 updates to a couple tests.

 tk/resources.lisp had a hack to make list-boxes work on SGI IRIX
 5.x's buggy motif but this broke 'em everywhere else, including IRIX
 6.x; also, added text-position for getting and setting the cursor
 position in a text field since many users had asked for this.

 tk-silica/image.lisp: updated read-bitmap to read 6-character hex RGB
 values now commonly found in .xpm files.

 tk-silica/xt-pixmaps.lisp: added 24-bit pixmap support for
 make-pattern-from-pixmap, but this needs to be redone since my
 quick-and-dirty version is extremely inefficient.

 utils/processes.lisp: frobbed atomic-incf to deal with delta other
 than 1, for a customer.

     on windows only (includes pnc fixes):

 Proportional scrollbar thumbs on windows!  Also, increased the grain
 from 100 to 1000, this is now globally settable with the variable
 *win-scroll-grain* which is set in aclpc/acl-class.lisp; most changes
 for this are in aclpc/acl-scroll.lisp - this fixes being able to
 scroll far beyond where there's any output, as well as the problem
 where the scroll bars wouldn't update when new output scrolled the
 viewport.  Hooray!

 clim-wind-proc in aclpc/acl-class.lisp includes three fixes from
 point-n-click: one fixes the mouse cursor problems, another
 fixes keyboard shiftstate problems (if the user pressed meta it
 looked like they had pressed control), and a third enables nonstring
 :printers for radio-box and check-box.

 ellipse-drawing winapi funs were not getting passed the correct
 params.  fixed in medium-draw-ellipse* in acl-medium.lisp

 pixmap arrays were getting reordered everywhere, but they only needed
 it on NT.  fixed in dc-image-for-ink pattern method in acl-medium.lisp

 winapi was being asked for both scrollbars regardless of what was
 desired.  fixed by pnc in realize-mirror in aclpc/acl-mirror.lisp,
 and in mswin-scroller-pane compose-space and allocate-space methods
 in aclpc/acl-scroll.lisp.

 switched text-style-mapping from linedrawn vector fonts to truetype
 fonts on windows.  fixed in acl-port.lisp, also this change somehow
 revealed that we weren't handling lists as valid text-styles on
 windows, added text-style-mapping method for lists.

 get-pathname in acl-prel.lisp was passing lisp strings to the ffi
 when it wanted c strings, and so select-file wouldn't work on
 windows.  fixed.

 changed space requirements for mswin scroller panes (made 'em taller
 by one scrollbar thickness, this looks right; compose-space in
 aclpc/acl-scroll/lisp).  still not right on silica panes (too short).

 Changed *win-scroll-thick* from a constant 18 to actually look at the
 SystemMetrics.  This fixed the bug where on some systems you could see
 right through the window near the scrollbars.  in aclpc/acl-scroll.lisp

 Paul recently added xlat-newline-return and unxlat-newline-return in
 aclpc/acl-widget.lisp, and had two versions of each (for aclpc and
 acl86win32) - I merged the four fns into two so we don't get into
 trouble later on.

 in aclpc/acl-widget.lisp, clim comboboxes (ie option panes) were not
 communicating well with the winapi.  They specified their regular size
 two times too big (in compose-space), their drop-down size one item
 too short (in set-sheet-mirror-edges*), and didn't update their
 drop-down size when the number of items changed (fixed in setf
 gadget-items :after).  All better now.

 the "character" symbol is reserved or something on aclpc so fns which
 use it as an argname have mostly been changed.  apparently missed one
 in clim/output-protocol.lisp

 aclpc was making lozenged output for #\Linefeed, don't know why this
 started but fixed it by adding a check in stream-write-char-1 in
 clim/output-protocol.lisp

 grayed-out command buttons on UNIX hack their grayed-outness by
 overlaying a stipple, but windows doesn't have stipples, so to
 prevent things from breaking I changed it to draw the gray-out box in
 white ink instead of stippled ink.  Proper graying out on windows
 would be to get the light and dark 3D system button colors and
 overlay the button pattern in those inks at offsets, but you'd have
 to get the palette stuff right and I didn't have the time.  Kludged
 in pixmap-from-menu-item in clim/pixmap-streams.lisp

 clim/surround-output.lisp - windows rectangles draw on the inside, so
 surrounding things correctly requires an extra offset.

 silica/gadgets.lisp - added rockwell fix to prevent compose-space on
 separator panes from choking when width or height were nil.

 added demo/winlisp.lisp - DOLL's Windows Lisp Listener demo from the
 2.1 aclwin dist.

*******************************************************************************
Fri May 30 17:49:18 PDT 1997  Tom McClure <tomj@romeo>

	* aclpc/acl-medium.lisp
		- ellipse drawing fixes
	* clim/accept-values.lisp
		- made default action (when you hit enter) work better
	* clim/db-stream.lisp
		- pointer-documentation pane now defaults to menu font
	* clim/drag-and-drop.lisp
		- returned multiple-window drag-and-drop functionality
	* clim/input-editor-commands.lisp, clim/menus.lisp,
	  silica/port.lisp, test/test-suite.lisp,
	  utils/defun-utilities.lisp, utils/defun.lisp,
	  utils/designs.lisp
		- removed references to obsolete feature microsoft-32
	* clim/menus.lisp, xm/xm-frames.lisp
		- fixed *default-menu-text-style*
	* clim/output-protocol.lisp
		- fixed aclpc char v. character bug
	* clim/output-protocol.lisp, clim/text-recording.lisp
		- fixed text baseline calculations
	* silica/db-scroll.lisp
		- most recent text output wasn't resizing extent
	* sys/compile.lisp, sys/load.lisp
		- major housecleaning
	* tk/gcontext.lisp, tk-silica/xt-graphics.lisp,
	  utils/transformations.lisp
		- optimized transform-position
	* tk/image.lisp
		- xpm pixmaps were being written out with huge chars
	* xm/xm-gadgets.lisp
		- added option abort-on-cancel-p to notify-user
	* tk-silica/xt-silica.lisp
		- gave clim fonts explicit iso8859-1 encoding
	* utils/base-designs.lisp
		- removed aclpc ink constant weirdness from nt
	* utils/extended-regions.lisp
		- added many missing region methods
		- fixed bugs in map-over-polygon-xxx and
		  region-intersection for lines
	* utils/region-arithmetic.lisp
		- made path/area stuff agree with spec
		- small optimization in make-region-difference
	* utils/regions.lisp
		- bounding-rectangles of partial ellipses fixed


*******************************************************************************
Documentation changes:	none
Tests for new features:	no new features

Fri May 30 10:54:31 1997  Kevin Layer  <layer@ultra>

	* Makefile.defs: use lispi and dcli.dxl, by default
	* Makefile.generic: parameterize libwnn.a
	* Makefile.wnn: add rule for wnn.so
	* wnn/load-wnn.lisp: allow dynamic loading of wnn.so

*******************************************************************************
Fri May 23 20:28:44 PDT 1997  Tom McClure <tomj@romeo>

	* aclpc/acl-class.lisp
		- pr changes to fix flickering cursor
	* aclpc/acl-frames.lisp
		- pr changes: aclpc compatibility
	* aclpc/acl-medium.lisp
		- pr changes: force b/w foreground/background?
		              looks like a kludgey fix for something but
		              I'm not sure for what.
	* aclpc/acl-pixmaps.lisp
		- pr changes: aclpc compatibility
	* aclpc/acl-scroll.lisp
		- pr changes: to fix some native scrolling bugs
	* aclpc/acl-widget.lisp
		- pr changes: fix to xlat-newline-return (?)
	* aclpc/sysdcl.lisp
	* demo/sysdcl.lisp
	* demo/sysdcl-pc.lisp
	* postscript/sysdcl.lisp
	* postscript/sysdcl-pc.lisp
	* sys/sysdcl.lisp
	* sys/sysdcl-pc.lisp
		- return NT port to using Allegro defsystem
	* sys/compile.lisp
	* sys/load.lisp
	* sys/loadnd.lisp
	* sys/loaddemo.lisp
	* sys/recompile.lisp
		- cleaned up, changed to reflect defsystem switch
	* utils/utilities.lisp
		- made addition of boolean type aclpc-only

*******************************************************************************
Mon May  5 15:33:46 1997  Kevin Layer  <layer@ultra>

	* Makefile.defs: use ../src/lisp -I ... instead of ../src/dcl
	* Makefile.generic: fix typo
	* tk/load-ol.lisp: conditionalize for 5.0 ffi
	* tk/load-xm.lisp: conditionalize for 5.0 ffi
	* tk/make-classes.lisp: conditionalize for 5.0 ffi

*******************************************************************************
Thu Apr 24 10:30:00 EST 1997  Tom McClure <tomj@romeo> for Paul Robertson <probertson@doll.com>

	* aclpc/acl-pixmaps.lisp
		- changed to support build on new ACL432 Beta
	* aclpc/acl-frames.lisp
		- changed to support build on new ACL432 Beta
	* aclpc/acl-prel.lisp
		- changed to support build on new ACL432 Beta
	* aclpc/acl-widget.lisp
		- changed to support build on new ACL432 Beta
	* aclpc/acl-mirror.lisp
		- changed to support build on new ACL432 Beta
	* aclpc/acl-dc.lisp
		- changed to support build on new ACL432 Beta
	* aclpc/acl-medium.lisp
		- changed to support build on new ACL432 Beta
	* aclpc/acl-class.lisp
		- changed to support build on new ACL432 Beta
	* aclpc/acl-port.lisp
		- changed to support build on new ACL432 Beta
	* clim/command.lisp
		- changed to support build on new ACL432 Beta
	* silica/db-button.lisp
		- changed to support build on new ACL432 Beta
	* sys/sysdcl-pc.lisp
		- changed to support build on new ACL432 Beta
	* sys/recompile.lisp
		- changed to support build on new ACL432 Beta
	* sys/compile.lisp
		- changed to support build on new ACL432 Beta
	* sys/load.lisp
		- changed to support build on new ACL432 Beta

*******************************************************************************
Fri Feb 14 15:27:21 PST 1997  Tom McClure  <tomj@romeo>

	* aclpc/acl-widget.lisp
		- commented out redundant silica:separator defclass
		  (this one became redundant because apparently one
		  had to be added to silica/gadgets.lisp which gets
		  compiled earlier	
	* silica/db-border.lisp
		- made original silica:separator defclass #-aclpc
	* clim/db-stream.lisp
		- made original clim-internals:accept-values-pane
		  defclass #-aclpc (a #+aclpc version appears in
		  silica/framem.lisp)
	* silica/event.lisp
		- discovered some more instances of MOP package-change
		  repercussions (changed #+aclpc cl:mop-foo to
		  #+aclpc acl:mop-foo)
	* sys/compile.lisp
		- inserted compile-file-if-needed analog for defsystem.fsl
		  since I was getting sick of having to do it by hand
	* sys/load.lisp, sys/loaddemo.lisp
		- corrected filename references
	* utils/defun.lisp
		- aclpc chokes on ~#\linefeed in format strings since
		  it expects a CRLF pair, so I changed some warning
		  strings to be on one long line as a temporary workaround
	* utils/lisp-utilities.lisp
		- aclpc appears to be case-sensitive for features?
		  Should investigate further, but for now changed
		  #+CLIM-uses-Lisp... to #+clim-uses-lisp...
	* utils/packages.lisp
		- had inadvertantly removed some #+aclpc :shadow
		  forms, added them back in

*******************************************************************************
Thu Feb  6 16:18:21 PST 1997  Tom McClure  <tomj@romeo>

	* clim/drag-and-drop.lisp
		- changed finish-on-release to be default
		- colin's fix for pointer documentation introduced bug
		  with gestures, now fixed (patch3514-01)
		- patch3514-02, a hack to counter for pointer-cursor
                  getting corrupted if drop triggers an
                  accepting-vaules (see comments in code)
	* clim/input-editor-commands.lisp
		- added :backspace functionality for folks without DEL
	* clim/surround-output.lisp
		- patch3515-01, fixes anomalies in surrounding-output-with-border
		  :rectangle
		- moved drawing-option processing into
		  invoke-surrounding-output-with-border (simplifies
		  define-border-type definitions)
	* tk-silica/xt-silica.lisp
		- spr15550, fixed sheet-mirror-map-callback
		  race-condition; no patch
	* Makefile.alpha
		- added default CLIM_HOME; consider moving this into
		  Makefile.defs or Makefile.generic?
	* clim/r-tree.lisp
		- smh changes, see patch3512-01
	* clim/graphics-recording.lisp, utils/regions.lisp
		- smh changes, see patch3513-01

*******************************************************************************
Thu Feb  6 15:41:07 PST 1997  Tom McClure  <tomj@romeo>

	* This slipped through the last commit (of Paul Robertson's tree)
	  - new directory aclpc with new files:
	    aclpc/acl-class.lisp
	    aclpc/acl-dc.lisp
	    aclpc/acl-frames.lisp
	    aclpc/acl-medium.lisp
	    aclpc/acl-mirror.lisp
	    aclpc/acl-pixmaps.lisp
	    aclpc/acl-port.lisp
	    aclpc/acl-prel.lisp
	    aclpc/acl-scroll.lisp
	    aclpc/acl-widget.lisp
	    aclpc/clim.ico
	    aclpc/climpat.lisp
	    aclpc/pkgdcl.lisp
	    aclpc/sysdcl.lisp
	    aclpc/winwidgh.lisp

*******************************************************************************
Tue Feb  4 17:08:22 PST 1997  Tom McClure  <tomj@vapor>

	* This is the merge of Paul Robertson's 1/23/97 tree into the
	  master CLIM tree.  Made necessary modifications and
          checks to ensure semantics of Unix version remain
          unchanged.  Search for #+aclpc and #+acl86win32 to
          find most of Paul's mods.  Many of his changes appear to be
          related to :around and :after methods needing to be defined after the
          primary method in aclpc and other aclpc deficiencies
          (declarations, destructuring-bind...).

	* MOP stuff moved from cl to acl in aclwin3.0.2, so...
          - utils/packages.lisp: added acl to use-package list for aclpc
	  - clim/ptypes1.lisp:   changed a bunch of cl's to acl's

	* Replaced all instances of fiHeader with Header so that
          correct RCS version numbers appear in files

	* Makefile.defs, Makefile.generic
	  - added CL_HOME and CLIM_HOME to correctly set up ALLEGRO_CL_HOME

	* new files:
	  clim/db-list.lisp
	  clim/db-menu.lisp
	  clim/db-text.lisp
	  demo/sysdcl-pc.lisp
	  notes/.cvsignore
	  postscript/sysdcl-pc.lisp
	  silica/db-button.lisp
	  silica/db-label.lisp
	  silica/db-slider.lisp
	  silica/scroll-pane.lisp
	  sys/compile.lisp
	  sys/do.lisp
	  sys/fids-pre.lisp
	  sys/load.lisp
	  sys/loaddemo.lisp
	  sys/loadnd.lisp
	  sys/odrawpat.lisp
	  sys/recompile.lisp
	  sys/sysdcl-pc.lisp
	  test/sysdcl-pc.lisp


*******************************************************************************
Thu Nov 14 08:23:23 1996  Sean Foderaro  <jkf@tiger.franz.com>

	* code/syscall.cl - separate out microsoft code correctly
	* test/t-proc.cl - do test so that failure shows up in final count

*******************************************************************************
<merge from 4.3.2.alpha branch>

Fri Oct 18 13:25:28 1996  Kevin Layer  <layer@freezer>

	* .cvsignore: add stub-wnn.c

*******************************************************************************
Wed Nov 20 14:51:37 1996  Kevin Layer  <layer@ultra>

	* RelNotes.txt: new file

*******************************************************************************
4.3.2.pre-beta.6

Tue Nov 19 16:58:41 1996  Duane Rettig  <duane@beta>

	* sys/defsystem.lisp: comp -> excl

	* utils/lisp-utilities.lisp: pointer-to-fixnum -> pointer-to-address

*******************************************************************************
4.3.2.pre-alpha.114

Thu Oct 17 06:43:30 1996  Duane Rettig  <duane@beta>

	* Makefile.cobjs:
	* Makefile.generic:
	* Makefile.cobjs: Add shared-lib support for HP

	* tk/resources.lisp: Work around SGI Motif bug (per smh spr15174)

*******************************************************************************
Tue Jul 23 14:29:37 PDT 1996 Colin Meldrum (colin@vapor)

Makefile.defs
	Changed WNNLIB to be libwnn.a instead of ./libwnn.a - was confusing 
	the make rules for building a developer CLIM (slim)

Makefile.hpprism, Makefile.sun4, Makefile.sun4-svr4
	Commented out WNNLIB=/usr/fi/X11R5/lib/libwnn.a becuase all the
	libwnn stuff is part of the main clim-2.0 tree in clim-2.0/wnn 
	
clim/accept-values.lisp
	Fixed dumb :right y-position bug in invoke-accepting-values - see
	patch3502 
	Fix bug in space allocation resulting in dialogs being larger than
	the screen - see patch3510
	pass view-gadget-initargs to pixmap-from-menu-item in
	invoke-accept-values-command-button-1 - fixes bug with background
	not being set for certain classes of accept-values-command-button 
	- see patch3505-02
	Added support for graying out of accept-values-command-buttons in
	conjunction with computed prompts in call to pixmap-from-menu-item
	- see patch3505-03
clim/drag-and-drop.lisp
	rework of drag-and-drop for spr14044 and spr14290

clim/frames.lisp
	Added a frame-manager method for graft - see patch3507
	added *graft-maximum-size-factor* - see patch3511

clim/gadget-output.lisp
	Added :label-options and :borders initargs to views for
	radio-box-view and check-box-view - see patch3505
	Added :borders initarg to views for slider-view and
	toggle-button-view  - see patch3504
	pass view-gadget-initargs to pixmap-from-menu-item in
	accept-present-default method for radio-box-view and check-box-view 
	- fixes bug with background  being set - see patch3505-02
	Added support for graying out of toggle button labels radio-box and 
	check-box-view in call to pixmap-from-menu-item - see patch3505-03

clim/interactive-protocol.lisp
	Added default stream-scan-pointer method which calls file-position

clim/output-protocol.lisp
	Added default stream-cursor-position method to make filling-output
	work on string-streams

clim/pixmap-streams.lisp
	Added support for graying out in pixmap-from-menu-item to make
	CLIM gray out inactive gadgets because Motif doesn't provide the
	support for graying out of pixmap labels - see patch3505-03
	Added :text-style, :background and :foreground initargs to
	pixmap-from-menu-item - see changes for gadget-output.lisp and
	accept-values.lisp - see patch3505-02

clim/tanslators.lisp
	added optional use-default-args arg to write-translator-function
	misc support for drag-and-drop changes.

demo/listener.lisp
	added (:pointer-documentation t) clause to lisp-listener demo

misc/compile-1.lisp
	removed #+ics check compiling 'wnn system. Change made to allow
	building of non-ics developer CLIM (slim)

silica/gadgets.lisp
	Added spacing slot to row-column-gadget-mixin - see patch3506
	Changed default visible-items in compute-list-pane-selected-items
	to +fill+ - see patch3508

silica/text-style.lisp
	Addeded text-style-xxx trampoline methods for text-style
	specifications given as lists - see patch3503-02

test/test-clim.lisp
	Added a filling-output-on-string-stream-test

test/test-suite.lisp
	Extended drag and drop test to check out new :documention and
	:pointer-documentation options 
	Added a gadget-resoure-dialog test to test the new
	pixmap-from-menu-item fixes
	added (:pointer-documentation t) clause to clim-tests frame

tk/graphics.lisp
	fixed bug in draw-image-string to call xdrawimagestring

tk/macros.lisp
	fixed bug in lisp-string-to-string16 to do the right thing with
	byte ordering - this fixes what would otherwise be a bug with
	iaclim for the dec alpha.

tk/resources.lisp
	removed bogus convert-resource-in method on (type (eql 'string))
	This was a a 4.3 ics merge bug - see patch3500

tk/xm-widgets.lisp
	fixes bug in convert-resource-out method for xm-string in non ICS
	CLIM which was breaking notify-user (and some other) dialogs 
	- see patch3501 
	
tk-silica/xm-dialogs.lisp
	Added :end-of-page-action :allow to the stream pane in a Motif
	accepting-values :own-window t dialog

tk-silica/xm-frames.lisp
	fixed frame-manager-construct-menu method for motif-frame-manager
	to deal with menu item sensitivity for buttons labelled with
	pixmaps. CLIM now grays out the pixmap - see pixmap-from-menu-item
	above in clim/pixmap-streams.lisp - see patch3505-03
	
tk-silica/xm-gadgets.lisp
	Added support for :spacing initarg in find-widget-initargs-for-sheet
	:around method on motif-row-column-gadget-mixin - see patch3506
	Cleaned up :list-size-policy code for motif-list-pane
	find-widget-initargs-class-and-name-for-sheet method
	added a gadget-visible-items for motif-list-pane method - see patch3508
	added :text-style, :background and :foreground args in call to
	pixmap-from-menu-item for motif-option-pane setting and update code 
	- see patch3505-02

tk-silica/xt-silica.lisp
	made font->text-style more robust in the presence of incomplete
	font descriptions as provided with certain X servers 
	- see patch3509

utils/excl-verification.lisp
	Changed *clim-version* to be "CLIM 2.1" This was missed for the 4.3 
	release - take note!

wnn/jserver.lisp
	Changed initialize-instance :after method on jserver to call
	ff:string-to-char* instead of tk::lisp-string-to-string8 so that
	the wnn system can be compiled independently of xm-tk. Also in this 
	case it's probably safer to have the string malloc'd.

wnn/load-wnn.lisp
	Wrapped this all in an excl:ics-target-case so that developer
	builds of a non ICS CLIM image (slim) work.

*******************************************************************************
4.3.devel.17

Sat Mar 23 17:46:14 1996  Duane Rettig  (duane at clay)

	* Makefile.linux86: New file

	* Makefile.sunx86: Change name

	* misc/compile-1.lisp: misc/compile-1.lisp: Conditionalize on ics
 

*************************************************************

Thu Mar 14 21:11:06 PST 1996 Colin Meldrum (colin@vapor)

Makefile.cobjs
	replaced mainxm.o rule with makemainxm and added MAIN_OBJ
	ACL_MAIN_OBJ to allow the one rule to be used for making both
	mainxm.o and ics_mainxm.o
	added a commentary on CLIM's current use of .o, .a and .so files

Makefile.generic
	removed ucl.clim and ucli.clim rules 
	made xm-dcl and xm-dcli rules create a ucl.clim (or ucli.clim) as well

Makefile.sgi4d-svr4, Makefile.sun4, Makefile.rs6000
	added STD_DEFINES and AR defns for making Wnn/jlib.

demo/japanese-graphics-editor.lisp
	renamed functions with fat characters in them to use only plain
	characters
	this avoids spurious warnings when loading the demos into a non-ics 
	lisp

tk/load-xm.lisp, tk/xm-init.lisp
	now we simply always assume shared on all dlfcn archs except for rs6k

tk-silica/xt-silica.lisp
	fixed bracketting typo which was breaking font-set-from-font-list
	from working correctly

wnn/load-wnn.lisp
	Put in error message to trap if someone tries to dynamically load
	it on a dlfcn arch - they can't because we don't have a shared
	libwnn 

*************************************************************

Wed Mar 13 01:49:35 PST 1996	Colin Meldrum	(colin@vapor)

Makefile.hpprism-ja, Makefile.sun4-ja

Makefile.rs6000
	added SAVEEXPI and RESTEXPI for ICS

Makefile.<ARCH>
	added STD_DEFINES + AR defn for building Wnn
	got rid of WNNLIB defns - now we build it and it's always in
	clim-2.0/libwnn.a 

Makefile.cobjs

	changed mainxm.o not to only include stub-xt.o, stub-x.o and
	stub-motif.o because they're the only ones that need to be in
	mainxm.o - all the *support.o files are also included in the
	distribution and can be linked in separately

Makefile.defs
	Added default SAVEEXP,RESTEXP
	Added new SAVEEXPI,RESTEXPI for ICS
	Added ICS-PRODUCT-FASLS + ICS-PRODUCT-OBJS

Makefile.generic
	Added ICS-PRODUCT-FASLS + ICS-PRODUCT-OBJS to compile, cat, clim
	makclimobjs, makeclimfasls, install_obj + install_clim
	fixed ucl/dcl.climsave bug in ucl.clim and xm-dcl rules
	added new rules ucli.clim and xm-dcli rules
	got rid of STATIC-WNN-OBJS-WITH-PWD hack

clim/frames.lisp
	frame-pointer-buttons-documentation removed 
	frame-pointer-button-documentation added
	frame-modifier-keys-documentation removed
	frame-modifier-key-documentation added
	
demo/README
	Got rid of reference to OpenLook

demo/japanese-graphics-editor.lisp
	fixed to work correctly with frame-modifier-key-documentation and
	frame-pointer-button-documentation 

misc/compile-1.lisp
	always compile-system 'wnn - even if with non-ICS lisp - no fat
	strings so not a problem

silica/text-style.lisp
	fixed device-fonts + text-style-mapping

sys/sysdcl.lisp
	Got rid of defn of ics-target-case which expanded into
	comp::ics-target-ecase - now it's available using
	excl:ics-target-case directly

test/testdcl.lisp
	added a missing :serial constraint

tk/load-xm.lisp
	for ICS load clim2:;climxm.so with *dlopen-mode* #x102
	fixed sys:*toolkit-static* bug which could result in re-initialzing
	the toolkit twice on restart

tk-silica/xm-gadgets.lisp
	fixed typo in find-widget-resource-initargs-for-sheet which was
	causing text-fields not to work correctly in ICS CLIM.

* Added Wnn jlib code under clim-2.0/wnn so we can build it for each port
without having to go to an entire X11 distribution - new files

	bcopy.c bdic.c commonhd.h config.h cplib.h demcom.h
	jd_sock.h jdata.h jh.h jl.c jllib.h js.c jslib.h
	msg.c msg.h pwd.c py_table.c rk_bltinfn.c rk_extvars.h 
	rk_fundecl.h rk_header.h rk_macros.h rk_main.c rk_modread.c
	rk_read.c rk_spclval.h rk_vars.c strings.c wnn_os.h wnn_string.h
	wnnerrmsg.c wnnerror.h yincoding.c zy_table.c 

wnn/load-wnn.lisp	

	Error if you try to load-wnn into a dlfcn lisp and the code isn't
	already statically linked

*************************************************************

Thu Feb 29 21:35:08 PST 1996	Colin Meldrum	(colin@vapor)

* IACLIM single source tree merge + misc other changes
  Full ChangeLog in next commit

*************************************************************
4.3.devel.12

Mon Jan 22 22:21:03 1996  Duane Rettig  (duane at clay)

Added files:

	* Makefile.alpha
	* Makefile.sunx86

Changed files:

	* misc/MyDrawingA.c: 
	* misc/climgccursor.c: 
	* misc/xtsupport.c: Add Dec Alpha pragmas

	* tk/convenience.lisp: Use second return from
	make-arglist-for-class
	* tk/widget.lisp: 

	* tk/font.lisp: Use typed with-ref-par; use long32 accessor

	* tk/foreign.lisp: 
	* tk/graphics.cl: 
	* tk/make-classes.lisp: 	
	* tk/xlib.lisp: 
	* tk/xm-font-list.lisp: 
	* tk/xm-widgets.lisp: Use typed with-ref-par

	* tk/gcontext.lisp: Add Dec Alpha

	* tk/macros.lisp: Fix with-ref-par to use typed cstructs instead
	of unsigned-lon arrays.

	* tk/resources.lisp: Fix resources for 64 bits

	* tk/xt-defs.lisp: Make xt-arg-val long instead of void *

	* tk-silica/xt-graphics.lisp: Use unsigned-long-array

	* tk-silica/xt-silica.lisp: Use typed with-ref-par

	* xlib/ffi.lisp: Fix int/long distinction

	* xlib/xlib-defs.lisp: Add Dec Alpha

	
*************************************************************
4.3.devel.10 (4.3.beta)

Wed Nov 22 15:30:33 1995  George Jacob  <georgej@lava.franz.com (George Jacob)>

* tk-silica/xt-graphics.lisp: Specialize text-style for text-style-*
methods.

* clim/output-protocol.lisp: specialize medium arg for
stream-scan-string-for-writing.

*************************************************************
4.3.devel.9 (beta preparation)

Tue Nov  7 16:44:25 1995  George Jacob  (georgej@lava)

* xlib/load-xlib.lisp: specify lp host clim2: for *.o files

* utils/excl-verification.lisp: Change to CLIM 2.1.beta

* tk/load-xm.lisp: specify logical-pathname host clim2: for *.o files

* various files: Change FAR Supplement number in Copyright message

* clim/standard-types.lisp: Modified cond() clause to fix reload-problem

* Makefile.generic: Added backslash for line continuation

* Makefile.cobjs: Added backslash for line continuation

* tk-silica/last.lisp: Change patch directory name to update-clim2

* sys/sysdcl.lisp: Change feature to 2.1

* utils/excl-verification.lisp: update *clim-version* to 2.1.beta

*************************************************************
Fri Oct 20 11:03:26 PDT 1995	Colin Meldrum (colin@vapor)

misc/train.lisp		#+ignored coverage report code because it doesn't
			yet work with new excl call-counting

*************************************************************
Fri Oct 20 10:35:00 PDT 1995	Colin Meldrum (colin@vapor)

Makefile.cobjs		added rule for stub-wnn.c
			mainxm.o now uses STATIC-WNN-OBJS

Makefile.defs		removed PRODUCT-TK-FASLS, PRODUCT-TK-OBJS
			added PRODUCT-FASLS, PRODUCT-OBJS

Makefile.generic	changes to use PRODUCT-FASLS, PRODUCT-OBJS
			added sys::*libwnn-pathname* to compile, clim,
			and load-train rules
			added rules for climwnn.fasl clim-debugwnn.fasl
			added stub-wnn.c to clean
			added echo_WNNLIB rule
			added STATIC-WNN-OBJS and WNNLIB to xm-dcl, ucl.clim

Makefile.hpprism	changed hp700 to hpprim

Makefile.hpprism-ja, Makefile.sun4-ja, Makefile.defs-ja
			new makefiles for creating Japanese version

Makefile.rs6000, Makefile.sgi4d-svr4, Makefile.sun4-ol, Makefile.sun4-svr4-ol
			changed to use PRODUCT-OBJS, PRODUCT-FASLS

instclimxm.lisp		load climwnn module for ics

clim/basic-translators.lisp
			presentation-menu presentation-action uses
			frame-menu-translator-documentation 

clim/cursor.lisp	support for variable size cursor for non-fixed
			width fonts

clim/frames.lisp	new gfs frame-pointer-buttons-documentation,
			frame-modifier-keys-documentation and
			frame-menu-translator-documentation to allow
			internationalization
			changed frame-document-highlighted-presentation-1 
			to use above new gfs

clim/input-editor-commands.lisp
			added support for multiple input-editor-command-array
			and hook in stream-process-gesture to call
			kana-process-gesture for japanese-input-editor

clim/interactive-protocol.lisp
			for ics added kana-state and kanji-server slots to 
			input-editing-stream-mixin
			for ics added *kana-input-editor-command-aarray*
			added new method ie-set-cursor-position to set
			cursor width for variable width fonts

clim/japanese-input-editor.lisp
			new file for ics
			romaji->kana conversion + hooks for kana-kanji
			conversion 

clim/output-protocol.lisp
			added stream-write-char-1 and stream-write-string-1
			misc changes to stream-scan-string-for-writing for ics

demo/japanese-graphics-editor.lisp
			japanized version of the graphics-editor demo
demo/packages.lisp	for ics added japanese-graphics-editor package
demo/sysdcl.lisp	for ics added japanese-graphics-editor to defsys

hpgl/hpgl-port.lisp	changed (port-undefined-text-style port) to
			*undefined-text-style* 

misc/compile-1.lisp	for ics compile-system 'wnn

misc/dev-load-1.lisp	for ics load climwnn + clim-debugwnn

misc/undefinedsymbols.wnn
			new file for ics 
			foreign symbols used in wnn/jl-funs.lisp

notes/release-notes.n	new file

sys/sysdcl.lisp		for ics added japanese-input-editor
			for ics added new system wnn

test/test-demos.lisp	for ics added test to run japanese-graphics-editor
			demo 

tk/callbacks.lisp, tk/font.lisp, tk/foreign-obj, tk/foreign.lisp,
tk/graphics.lisp, tk/load-xm.lisp, tk/resources.lisp, tk/widget.lisp,
tk/xlib.lisp, tk/xm-font-list.lisp, tk/xm-funs.lisp, tk/xm-protocols.lisp,
tk/xm-widget.lisp, tk/xt-funs.lisp, tk-silica/xm-frames.lisp,
tk-silica/xm-gadgets.lisp, tk-silica/xm-silica.lisp,
tk-silica/xt-graphics.lisp, tk-silica/xt-silica.lisp, xlib/xlib-defs.lisp,
xlib/xlib-funs.lisp 

	numerous changes for ics support and correct handling of
	fat-strings and toolkit compound strings and font sets
	
	The following new definitions are made for ics

	defclass: font-set

	defmethod: gadget-needs-font-set-p text-style-to-font-list
	font-set-from-font-list  
			
	defun: create-font-set fonts-of-font-set text-extents
	fat-string-to-string8 fat-string-to-string16 xchar-code setlocale
	partition-compound-string

	defvar: *font-list-tags* *empty-compound-string* 
			
	defconstant: xm-font-is-fontset
			
	defforeign: xt_set_language_proc xm_string_concat xm_string_copy
	setlocale-1 lisp-xdrawstring16 xopenim xcreatefontset
	xfontsoffontset xmbtextextents

tk-silica/pkg.lisp	added exports of *xt-font-families* 
			*xt-logical-size-alist* *xt-cursor-type-alist*

tk-silica/xt-gadgets.lisp
			changed fix-coordinate to floor in
			convert-scroll-bar-value-out to get rid of spurious 
			Xm warnings

tk-silica/xt-silica.lisp
			added a named font-cache to xt-port
			new method find-named-font
			reworked fallback/undefined font handling

utils/packages.lisp	

	new exports from clim 
	*default-kanji-server-path* basic-kanji-server
	destroy-kanji-server find-kanji-server map-over-kanji-servers
	kanji-server kanji-server-path kanji-server-type kanji-server-p
	frame-menu-translator-documentation
	frame-pointer-buttons-documentation
	frame-modifier-keys-documentation  
	jie-begin-kanji-conversion jie-get-kanji jie-end-kanji-conversion 

	new exports from silica 
	*kanji-servers* find-kanji-server-type make-device-text-style

	exports removed from silica
	port-undefined-text-style make-device-font-text-style
	*undefined-text-style*

xlib/xlibsupport.c
	new C function for ics lisp_XDrawString16

*************************************************************
Mon Oct 16 21:58:05 PDT 1995	Colin Meldrum (colin@vapor)

Makefile.cobjs		fix library path for ol version

Makefile.generic	added rule clean-notes
			fixed library path for make train rule

Makefile.sun4-svr4	defs for multiple versions of Motif libraries

clim/accept-values.lisp	fixed bug positioning own-window t dialogs
			improved appearance of dialogs produced with
			display-invalid-queries
			fix typo in display-invalid-queries 

clim/command.lisp	added support for user defined accelerator-text in
			add-menu-item-to-command-table 

clim/db-stream.lisp	added support for scroller-pane options to
			make-clim-stream-pane

clim/frames.lisp	reinstated 0.9 fudge factor in limit-size-to-graft
			to workaround bug in openwindows window managers
			fixed find-application-frame to create new frame when 
			no existing frame found
			changed enable-frame to use position-sheet-carefully
			rather than move-sheet - allows correct positioning 
			of non avv popup-frames.

clim/gadget-output.lisp	fixed option-pane to activate/de-activate correctly

clim/input-protocol.lisp
			changed repaint-sheet to not require a viewport so
			that cursor redraw works correctly in panes without
			scroll-bars 

clim/interactive-defs.lisp
			fixed bug in read-token's handling of activation
			and delimiter gestures

clim/menus.lisp		fixed bug in open-window-stream by moving :left and 
			:top args into call to make-application-frame

clim/tracking-pointer.lisp
			fixed bug with tracking-pointer over multiple panes 
			when mouse button grabbed

clim/translators.lisp	removed restriction on priorities to be >0 in
			define-presentation-trasnlator-1

climtoys/calendar.lisp	removed com-print3

demo/color-editor.lisp	include tick-marks on sliders

postscript/postscript-medium.lisp
			added dummy maybe-set-color method to hack
			compose-in inks for postscript port
			fixed prolog to do calculate the correct
			bounding-rectangle for encapsulted postscript

silica/db-border.lisp	changed region painted in repaint-boder-pane to
			workaround bug with repaint drawing over cursor

silica/db-layout.lisp	tentative compose-space :around method for 			
			client-overridability-mixin

silica/db-scroll.lisp	added support for :vertical-page-scroll-amount and
			:horizontal-page-scroll-amount

silica/gadgets.lisp	added :decimal-places 0 initarg for slider
			added echo-character initarg to text-fields for
			password entry support
			support in compute-list-pane-selected-items for
			auto scrolling of list-pane to show selected item
			support for armed/disarmed events

silica/port.lisp, tk/xm-init.lisp tk/ol-init.lisp
			new *restart-actions* syntax

silica/sheet.lisp	new gf port-remove-all-pointer-grabs (to fix
			tracking pointer multiple window bug)
	

test/test-suite.lisp	fixed title of region-intersects-region-p test

tk/callbacks.lisp	support for text-field echo-character

tk/resources.lisp	support for auto-scrolling list-pane
			added top-item-position resource

tk/xlib.lisp		fix bug with non-standard bits-per-pixel image
			format in image initialize-instance :after method

tk/xm-defs.lisp		support for text-field echo-character

tk/xm-funs.lisp		support for setting scale value
			support for changing widget background color and
			associated shadows

tk/xt-defs.lisp		misc typdef fixes

tk/xt-funs.lisp		added xt_ungrab_button
			fixed init_clim_gc_cursor_stuff to be :call-direct t

tk-silica/last.lisp	changed patch load pathname to be ";update-clim;"

tk-silica/xm-frames.lisp
			replaced frobulate-menubars with more general
			frobulate-mirrors to fix bug with gadgets coming up
			wrong size
			support for user-defined accelerator-text
			fixed bug with shifted accelerators

tk-silica/xm-gadgets.lisp
			added armed/disarmed callbacks
			support for quantized slider values
			support for slider tick marks
			support for min/max label
			variable page-increment for scroll-bars
			support for text-field echo-character 
			support for auto-scrolling list-pane
			added motif specific port-set-pane-background to
			deal with shadow colors
			handle :default keyword arg frame-manager-select-file

tk-silica/xm-silica.lisp
			added note-sheet-degrafter method on
			clim-stream-sheets to destroy any cursor widget

tk-silica/xt-gadgets.lisp
			redone find-widget-resouce-initargs-for-sheet
			support for variable page-increment for scroll-bars	
			simplified get-accelerator-text

tk-silica/xt-graphics.lisp
			added palette slot to xt-medium
			medium-palette only goes to the sheet the first time
			new decode-ink-1 method on composite-in inks
			decode-ink-opacity now takes an optional color arg
			fixes bug in decode-layered-color-set for layers
			which are not exact powers of 2

tk-silica/xt-silica.lisp
			support to inhibit use of scalable fonts.
			new queue-armed-event and queue-disarmed-event
			explicitly switch off program-specified position
			hints in enable-mirror on top-level-sheet to make
			OpenWindows cascading work properly
			added new method port-remove-all-pointer-grabs 

utils/base-designs.lisp	coerce designs in make-pattern to be a
			simple-vector 

utils/designs.lisp	*use-closest-color* can now be :warn
			check for recursive errors when no closest color
			available 

utils/packages.lisp	armed-gadget-event
			disarmed-gadget-event
			port-remove-all-pointer-grabs
			text-field-echo-character

xlib/xlib-funs.lisp	added defforeign for _XGetBitsPerPixel

*************************************************************
4.3.devel.4 (aka 4.3.alpha.0)

Wed Jun 21 11:10:05 1995  George Jacob  (georgej@lava)

* Makefile.generic: 	use TKLIB instead of MOTIFLIB

* tk/load-xm.lisp: 	replace toolkit-shared with toolkit-static

* tk/xm-defs.lisp:	remove defconstant
* tk/xm-widgets.lisp:	add defconstant

* tk/xm-font-list.lisp:	

* tk/xm-init.lisp:	reinitialize toolkit by default for DLFCN
			ports

* tk-silica/gc-cursor.lisp:	remove debugging comments

* utils/excl-verification.lisp:	update *clim-version* (to 2.1)


Tue May 16 23:23:13 PDT 1995	Colin Meldrum (colin@vapor)

Makefile.cobj-svr4	REMOVED - dlfcn and non-dlfcn both now handled in
			 Makefile.cobj

Makefile.sun4-ol, Makefile.sun4-svr4-ol	
			NEW files. OpenLook now built using separate
			Makefile from Motif default - simplifies things alot

Makefile.*		major rewrite
			changes too numerous to itemize

instclimxm.lisp, instclimol.lisp
			got rid of /x11/R4/... definitions for
			sys::*libX11-pathname* and sys::*libxt-pathname*

make-symbolic-links.sh	original tree pathname in the shell script - no
			longer an argument

clim/accept.values.lisp	made :initialy-select-query-id work for gadget fields
			fixed bug with align-prompts
			added show-as-default handling for default exit-box
			fixeed up display when abort editting a field

clim/command.lisp	added support for :button-type :help
			
clim/cursor.lisp	fixed bug with cursor drawing breaking with
			non-identity stream transformation

clim/db-stream.lisp	made :width, :height work for accepting-values
			:own-window t

clim/frames.lisp	frame-deiconified now called when wm de-iconifies a 
			frame

clim/gadget-output.lisp	text-editor-view accept-present-default method for
			all ptypes

clim/input-defs.lisp, clim/input-protocol.lisp
			fixes bug with stream-pointer-position incorrectly
			cached when sheet-transformation changes

clim/input-protocol.lisp
			fixes bug with inputting foreign characters under
			OpenWindows with compose key	

clim/interactive-defs.lisp
			fixed read-token to deal with EOF on string stream

clim/menus.lisp		added background and foreground args to default
			frame-manager-menu-choose 

clim/panes.lisp		fixed :command-menu and :menu-bar panes to grab
			frames command-table lazily

clim/text-formatting.lisp
			fixed bug in write-buffer-and-continue to make
			filling-output work better with presentations
			
clim/text-recording.lisp
			fixed copy-textual-output-history to deal with
			empty output-history

climtoys/calendar.lisp	added multi-page calendar printing misc bug fixes

sys/sysdcl.lisp		changed to new defsys

demo/demo-driver.lisp	now only deiconifies a frame when it's really
			shrunk 

demo/graphics-editor.lisp
			Added example "Help" menu and mnemonics

misc/MyDrawingA.c	no longer includes "climgccursor.c"
misc/xmsupport.c	includes "climgccursor.c" and "MyDrawingA.c"

misc/train.lisp		added default for :report-file for clim devel

misc/undefinedsymbols.motif
			added some new entries

silica/classes.lisp	added eventp gf and method defns

silica/defsys.lisp	REMOVED

silica/gadgets.lisp	menu-bar is now a row-column-gadget-mixin rather
			than oriented-gadget-mixin
			got rid of pattern and icon-pattern slots for
			push-button (use label instead)

sys/sysdcl.lisp		xlib/load-xlib.lisp and xlib/last.lisp now also
			used with #+dlfcn 


test/test-suite.lisp	"Exit Clim Tests" menu name now consistent

test/defsys.lisp	REMOVED

tk/load-ol.lisp		added sys::*toolkit-shared* to deal with
			re-initializing of toolkit for svr4
			added clim2 logical host for climol.so
			got rid of clim-olit.o - use stubs directly

tk/load-xm.lisp		added sys::*toolkit-shared* to deal with
			re-initializing of toolkit for svr4
			added clim2 logical host for climxm.so
			got rid of clim-motif.o - use stubs directly
			MyDrawingA.o changed to xmsupport.o

tk/ol-init.lisp		added sys::*toolkit-shared* to deal with
			re-initializing of toolkit for svr4

tk/widget.lisp		got rid of widget name defaulting code (now done at 
			tk-silica level)

tk/xlib.lisp		added *x-error-handler-address* and
			*x-io-error-handler-address* to hold callback address
			major rework of image code for speed/space
			added image-from-pixmap support
			got rid of image-from-pixmap - use tk::get-image now

tk/xm-defs.lisp		moved xm-font-list-default-tag fro xm-font-list

tk/xm-init.lisp		added sys::*toolkit-shared* to deal with
			re-initializing of toolkit for svr4

tk/xm-widgets.lisp	fixed bug with string conversion for rs6k
			added text-position resource-conversion (support
			for text field selections)

tk-silica/image.lisp	made make-pattern-from-bitmap-file smarter at
			getting correct format
			major rework for speed/space
			added make-bitmap-file-from-pattern support
			made read-bitmap-file more robust to errors in
			filters

tk-silica/ol-frames.lisp, tk-silica/ol-gadget.lisp
			use tk::get-image rather than tk::image-from-pixmap

tk-silica/ol-gadgets.lisp, tk-silica/xm-gadgets.lisp, tk-silica/xt-silica.lisp
			find-widget-class-and-initargs-for-sheet replaced
			with find-widget-class-and-name-for-sheet and
			find-widget-initargs-for-sheet 
			
tk-silica/ol-gadget.lisp, tk-silica/xm-frames.lisp
			handle null menu-bar-command-table

tk-silica/xm-dialogs.lisp
			frame-manager-construct-avv-panes stores now uses
			make-clim-stream-pane avoiding problems with
			unmirrored sheets when no scroll-bars

tk-silica/xm-frames.lisp
			motif-menu-bar now inherits from
			motif-row-column-gadget-mixin
			fixed bug with bogus min width for menu-bar
			implemented help menu-item
			fixed problems with updating sensitivity of
			menu-bar menu-items and removing/adding menu-items
			and keystrokes 
			fixed bug with keystroke accelerators without modifiers 
			
tk-silica/xm-gadgets.lisp
			added support for color icons
			
tk-silica/xt-gadgets.lisp
			added sheet-text-style to deal with non-pane sheets 
			(use *default-text-style*)

tk-silica/xt-graphics.lisp
			added code to support dynamic changing of a sheet's 
			palette
			major rework of pattern/image/pixmap code for speed/space
			support for color icons
			restarts for when palette is full
			fixed bug in treatment of angles for draw-arc

tk-silica/xt-pixmaps.lisp
			added medium-copy-area method from pixmap to pixmap
			make-pattern-from-pixmap extension

tk-silica/xt-silica.lisp
			made event handler process :no-interrupts t
			*xt-font-families* now specifies iso8859-1 fonts by 
			default (for handling of European character sets)
			fallback font is "fixed"
			default widget name from class-name in default
			find-widget-class-and-name-for-sheet method
			more graceful error-handling when a font cannot be
			loaded due to server resource exhaustion
			get-sheet-resources now does the right thing for
			top-level sheets
			port-move-frame worked yet another time. Hopefully
			this should now work for both dialogs and non-dialog frames

tk-silica/xt-stipples.lisp
			*stipple-images* replaced by *stipple-data* -
			create the image on a per-port basis in setup-stipples 

utils/designs.lisp	improved palette full error handling
			introduced *use-closest-color* (default t) and
			find-closest-matching-color gf
			
utils/packages.lisp	exported the following from the CLIM package:
			find-closest-matching-color use-other-color
			*use-closest-color* +push-button-view+
			push-button-view make-bitmap-file-from-pattern
			write-bitmap-file compute-filter-for-bitmap-format 
			exported palette-full-error from the clim-utils package
			
utils/regions.lisp	fixed bug in point-on-thick-ellipse-p

xlib/load-xlib.lisp	removed symbols-from-file and load-undefined-symbols-from-library 
			load "stub-x.o" and "xlibsupport.o" only in non
			dlfcn case (dlfcn case handled in tk/load-xm.lisp)

(for 4.3.devel.2 merge):

Mon May 15 00:07:55 1995  Duane Rettig  (duane at clay)

	* Makefile.defs: Remove CLIM_OL_FASLS from CLIMFASLS; remove
	composer .o files from xm-dcl build

	* Makefile.hpprism:
	* Makefile.sgi4d-svr4:
	* Makefile.sun4-svr4: Give SAVEEXP and RESTEXP a non-null command

	* demo/listener.lisp: debug::newest-frame -> excl::int-newest-frame 

	* tk/gcontext.lisp: excl:make-static-array n ->
	make-array n :allocation :static

	* tk/load-xm.lisp: Load climxm.so via logical pathname


Thu Mar 23 16:20:50 1995  George Jacob  (georgej@lava)

	* Makefile.defs (TRAIN_TEXT): Changed TRAIN_LISP to call
	train-clim with report-file arg set to $REPORT_FILE
	
	* misc/train.lisp: Modified train-clim to take a report-file kwdarg

	* Makefile.sun4: Used Colin's updated version.

	* misc/xtsupport.c: Used Colin's updated version.

	* Makefile.cobjs-svr4: Added MOTIFXTRAOS to MAIN_OBJ link rule

(for 4.2.devel.28 merge):

Sat Dec 17 22:30:41 1994  Duane Rettig  (duane at clay)

Added files:

	* Makefile.unknown: Allow "make clean" without host type

Changed files:

	* Makefile.cobjs-svr4: Parameterize for rs/6000

	* Makefile.generic: Add back the xm-dcl rule for rs/6000; allow
	for saving/restoring of ucl.exp file.

	* Makefile.hpprism: 
	* Makefile.sgi4d-svr4: 
	* Makefile.sun4: 
	* Makefile.sun4-svr4: Add paralleling defines for new rs/6000
	parameterizations

	* Makefile.rs6000: Rework to make rs/6000 look svr4-like, adding
	dynamic foreign loading

	* sys/sysdcl.lisp: 
	* tk/load-xm.lisp: 
	* tk/make-classes.lisp: svr4 -> dlfcn

	* tk/xm-font-list.lisp: Fix reference to load-time-nonexistant
	direct-call foreign function

------------------------------------------------------------------------
Tue Dec  6 17:57:45 1994  Steve Haflich  (smh@vapor)

[Compiled Colin's merge and fix minor editing glitches.
This tree now compiles and runs with devel.27 and dynamic-extent closures
under multiprocessing.  Not exhaustively checked.]

sys/sysdcl.lisp		Fix parenthesization botch.

tk/make-classes.lisp	Fixed lispify-tk-name to handle NIL package.

------------------------------------------------------------
Sun Dec  4 15:51:34 PST 1994  Colin Meldrum (colin@vapor)

silica/db-button.lisp, silica/db-label.lisp, 
silica/db-slider.lisp, silica/scroll-pane.lisp
clim/db-list.lisp, clim/db-menu.lisp, clim/db-text.lisp
			REMOVED (moved to homegrown)

homegrown/db-button.lisp, homegrown/db-label.lisp, 
homegrown/db-slider.lisp, homegrown/scroll-pane.lisp
homegrown/db-list.lisp, homegrown/db-menu.lisp, homegrown/db-text.lisp
			NEW FILE (originally from clim and silica)

Makefile.hp700, Makefile.sun4.motif-1.1.4
			REMOVED

make-symbolic-links.sh	NEW FILE - used for handling multiple fasl trees

Makefile		default host changed to 'unknown'

Makefile.cobjs		sorted out DEBUGLIB stuff

Makefile.dec3100	got rid of MOTIFLIB_d

Makefile.defs		updated to include panes and new homegrown
			directory 
			general cleanup


Makefile.generic	no longer use si::system-compile-wrapper
			general cleanup

Makefile.hpprism	use default CL=/usr/fi/climdcl-devel
			removed bogus ref to Makefile.hp700
			removed MOTIFLIB_d
			added XTSUPPORTINCLUDES

Makefile.sgi4d-svr4	removed MOTIFLIB_d - use DEBUGLIB instead

Makefile.sun4		update to use Motif-1.2.4
			sorted out DEBUGLIB stuff
			cleanup of OL lib/includes

Makefile.sun4-svr4	update to use Motif-1.2.4
			sorted out DEBUGLIB stuff
			cleanup of OL lib/includes

clim/accept-values.lisp added foreground and text-style to avv own-window dialogs 
			fixed bogus margin for exit-box pane
			reformatting changes
			added support for default ok button

clim/clim-defs.lisp	support for foreground and text-style in avv
			own-window dialogs

clim/command.lisp	fixed process-command-table-menu to deal with
			inherit-menu correctly

clim/cursor.lisp	fixed cursor-set-position to bind cursor-state
			rather than cursor-active to nil
			fixed cursor-visibility as per spec

clim/db-stream		made window-visibility more robust

clim/default-frame.lisp	fixed arglists of frame-manager-notify-user and
			frame-manager-select-file as per spec.

clim/defresource.lisp	fixed clear-resource to nil the object vector

clim/dragging-output.lisp
			avoid repainting dragged record twice

clim/frames.lisp	added frame foreground, and text-style slots
			added color-stream-p trampoline method for
			encapsulating streams
			fixed :layouts, :pane, :panes as per spec
			fixed frame geometry processing
			moved a bunch of code to clim/panes.lisp

clim/panes.lisp		NEW FILE - code taken from clim/frames.lisp

clim/gadget-output.lisp	fixed gadget-includes-prompt-p 
			fixed label/prompt confusion for various gadgets
			handle activate-callback for text-fields and text-editors
			fixed bug with accept-values-string-field-changed-callback 
			and delimiter gestures

clim/gestures.lisp	keyboard-event-matches-gesture-name-p fixed to be
			deal with case sensitive gestures
			ditto for parse-gesture-spec

clim/graphics-recording.lisp	
			fixed refined-position-test for thick lines

clim/input-defs.lisp	setf pointer-sheet now binds *application-frame*
			fixes presentation-highlighting bug
			removed bogus dynamic-extent decl
			fixed recursive repaint problem with cursor refresh
			fixed setf port-keyboard-input-focus to deal with
			disabled sheets

clim/interactive-protocol.lisp
			fixed stream-yes-or-no-p and friends to deal with
			null format-string and put them all in the stream
			package 

clim/menus.lisp		added :foreground,:background :x-position,
			:y-position to menu-choose
			fixed open-window-stream wrt forground, background
			and text-style
			sorted out with-menu semantics as per spec
			fixes to menu-choose-from-drawer for scroll-bars


clim/noting-progress.lisp
			fixed dolist-noting-progress wrt note-var
			fixed dotimes-noting-progress wrt not-var

clim/presentations.lisp	removed bogus dynamic-extent decl

clim/recording-protocol.lisp
			fixed handling of errorp in delete-output-record

clim/standard-types.lisp
			re-implementation of read-recursive and accept of
			expression/form ptype

clim/text-formatting.lisp
			fixed bug in cursor-positioning with filling-stream


clim/tracking-pointer.lisp
			removed bogus dynamic-extent decl
			added finish-on-release to pointer-input-rectangle(*)
			fixed bug in pointer-place-rubber-band-line*

climtoys/calendar.lisp	NEW FILE - the calander demo

demo/default-frame-top-level.lisp
			updated to be in sync with code in clim/frames.lisp

demo/demo-last.lisp
			add provide :climdemo, climdemoxm, climdemool

demo/plot.lisp		simplified the plotting-points interface so as to
			not involve quite so many nested flets.

demo/README		NEW FILE - instructions for running clim demos

misc/climgccursor.c	use NUll cursor to undefine cursor - removed
			call to XUndefineCursor

misc/compile-1.lisp	added compile-system 'clim-homegrown

misc/train.lisp		moved a bunch of output files to notes directory

misc/undefinedsymbols.xt
			added XtCloseDisplay XtDestroyApplicationContext
	
misc/xtsupport.c	XtAppIntervalNextTimer no longer sparc specific
			removed 1+ hack to avoid rounding errors

notes/times/clim2-beta2.n, notes/times/clim2-final.n
			NEW FILE

postscript/postscript-medium.lisp
			fixed handling of thick lines
			added support for clipping regions

postscript/postscript-port.lisp
			added support for clipping regions
			sorted out landscape mode, co-ordinate
			transformations, scale-to-fit and multi-page
			and various misc cleanups

silica/db-scroll.lisp
			added drag-scroll-slot to scroller-pane
			major re-implementation of scrolling as per spec
			added mirror-region-updated :after method to
			update-scroll-bars when layouts change

silica/event.lisp
			made repaint sheet robust to portless sheets
			fixed bug with wrong co-ordinates being used with
			grabbed sheets.

silica/framem.lisp	support for frame foreground and text-style
			fixed arglists of frame-manager-notify-user and
			frame-manager-select-file as per spec.

silica/gadgets.lisp	sorted value-gadgets and invoke-callback stuff
			made all callback :around methods always call
			primary method even if callback slot non-NIL
			reimplemented sliders and scroll-bars as per spec
			fixed radio-box and check-box handling of :choices
			initarg + improved error messages for invalid choices

silica/layout.lisp	improved print-method for space requirements

silica/medium.lisp	support for pixel resource values and device-colors

silica/port.lisp	fixed race condition in port creation

silica/sheet.lisp	added dynamic-extent arg decl to map-over-sheets

silica/text-style.lisp	removed fully-merged-text-style-p

sys/sysdcl.lisp		moved a bunch of db-xxx files to clim-homegrown module

test/test-driver.lisp	removed call to run-benchmarks-to-dummy-file

test/test-suite.lisp	added slider labels to slider-dialog test
			added test to test list-panes with varios scrolling
			combinations
			combined run-benchmarks-to-dummy-file and run-benchmarks
			together into run-benchmarks

tk/conveninece.lisp	fixed malloc leak
			added support for xm-message-dialog

tk/event.lisp		fixed wait-for-event to deal with async port
			termination 
			removed XtAppIntervalNextTimer hacks

tk/foreign.lisp		register address of display objects

tk/load-ol.lisp		moved provides to tk-silica/last.lisp

tk/load-ol.lisp, tk/load-xm.lisp, tk/ol-init.lisp, tk/xm-init.lisp
			fixed up svr4 reinitialize-toolkit stuff

tk/macros		added with-malloced-objects - support for avoiding
			malloc leaks

tk/make-classes.lisp	improved performance of get-resource-internal,
			lispify-tk-name, tkify-lisp-name

tk/ol-defs.lisp		added provide :clim-debugol
tk/xm-defs.lisp		added provide :clim-debugxm

tk/ol-widgets.lisp	added focus-widget resource to notice-shell
			support for ol notification dialog

tk/resources.lisp	fixed malloc leak in set-values, fill-gv-cache
			get-values, convert-resource-out methods
			added convert-resource-out method for
			man-foreground-pixmap (used in message boxes)
			added motif navigation-type resource (for explict focus)

tk/widget.lisp		fixed malloc leak in app-create-shell, create-widget-1, 
			create-popup-shell

tk/xlib.lisp		fixed X resource lookup to deal with pixel values
			fixes to error handling when port asyn destroyed
			fix malloc leak in convert-string
			new macro def-foreign-array-resource
			resourcd xcolor, xsegment, xpoint, xrectangle
			xarc arrays
			added get-image - support for make-pattern-from-pixmap

tk/xm-font-list.lisp	fixed malloc leaks

tk/xm-funs.lisp		new defforeigns to support above

tk/xm-protocols.lisp	simplified and merged with general xt callback
			mechanism 
			fixed malloc leaks

tk/xm-widgets.lisp	fixed malloc leaks
			resource-conversion for motif default button handling
			resource-conversion for motif string tables
			resource-conversion for named pixmaps

tk/xt-defs.lisp		removed several old explicit array def-c-type's
			now in xlib/xlib-defs.lisp

tk/xt-funs.lisp		new defforeigns to support asyn port termination
			handling 
			XtAppIntervalNextTimer now returns signed value

tk-silica/gc-cursor.lisp
			fixed bug with null cursor

tk-silica/image.lisp	fixed zombie child process bug and improved error
			handling in read-image-file with a filter
			added support for xpm images with chars-per-pixel>1

tk-silica/last.lisp	added provides for :climxm, :climol

tk-silica/ol-gadgets.lisp
			re-implementation of scroll-bars, sliders
			support for patterns as gadget-labels
			further hacking to make ol-text-fields work better
			improved consistency wrt labels for ol-toggle-button
			misc fixes to ol notify user

tk-silica/xm-frames.lisp
			major changes to menu-bar realization code
			partial implementation of motif help menu support
			support for foreground background and text-style in
			motif pop up menus 
			partial support for documentation callbacks for
			cascade buttons

tk-silica/xm-gadgets.lisp
			motif-value-changed-callback-pane and
			motif-losing-focus-callback-pane not longer inherit
			from motif-value-pane
			setf gadget-value method now an :after method - see
			changes in silica/gadgets.lisp
			support for patterns as gadget-labels
			space-requirements for label gadgets fixed for 
			variable width fonts
			support for default-button in dialogs
			re-implementation of scroll-bars, sliders
			added *xm-dialog-style* for olwm losers
			got rid of map-callback for dialogs - not required
			fixed list-panes with various scroll-bar combinations
			added setf list-pane-mode for motif-list-pane
			fixed option-menus to deal with X resources + other
			misc fixes
			added foreground, background, x-position, y-position
			to notify-user
			support for user pixmaps in notify user
			added default-button to notify-user dialog
			background + foreground for file selection
			rewrote text-style -> font-list mapping for
			sheet-with-resources-mixin 

tk-silica/xm-silica.lisp
			got rid of map-callback for dialogs - not required

tk-silica/xt-frames.lisp
			added support for foreground, background,
			x/y-position, scrolling to xt menu-choose
			added support for default button in dialogs
			got rid of invoke-with-menu-as-popup method

tk-silica/xt-gadgets.lisp
			support for pixel resource values
			support for noting frame deiconification
			re-implementation of scrolling

tk-silica/xt-graphics.lisp
			added decoding of device-colors for pixel resources
			implemented dynamic changing of a frame's palette
			fixed ol lookup-color bug
			resourced a whole bunch of xstructs in xlib call to
			reduce consing
			a bunch of other optimizations in various medium-draw-xxx 
			functions to reduce consing
			improved handling of palette-full condition
			got rid of a bunch of floating point calculations
			fixed several co-ordinate rounding errors leading
			to mismatch between bounding rectangle and output
			fixed bug in call to xbell specifying wrong volume

tk-silica/xt-pixmaps.lisp
			implemented make-pattern-from-pixmap

tk-silica/xt-silica.lisp
			patched up a number of problems with async port
			termination + xlib/xt error handling
			support for noting frame deiconification
			ignoring bogus linefeed xt-keysym defn
			fixed case-sensitive handling of accelerators
			define cursor when top-level-sheet enabled
			fixed bug in mirror-visible-p
			redone much of the x cursor stuff
			fixed pointer-grabbing to allow scroll-bars to work
			in menu-frames

utils/base-designs.lisp	added device-colors
			added pattern-array, pattern-designs readers

utils/designs.lisp	separated out convert-rgb-to-ihs and
			convert-ihs-to-rgb for general use
			added device-colors

utils/lisp-utilities.lisp
			fixed rounding bug and eliminated consing in 
			fix-coordinate
			added macro define-dynamic-extent-args

utils/packages.lisp	new exports

utils/processes.lisp	removed bogus dynamic-extent decl

utils/utilities.lisp	removed unecessary deftype boolean 

xlib/ffi.lisp		defforeign-functions-now changed from macro to fn
			extended def-exported-foreign-struct to take :array
			option automatically defines array def-c-type 
			changed default-return type to void in
			def-exported-foreign-function
		
xlib/last.lisp		added provide :clim-debug

xlib/xlib-defs.lisp	added a bunch of def-exported-foreign-structs
			and removed old explicit def-c-type's
			
xlib/xlib-funs.lisp	fixed several def-exported-foreign-functions
			with bogus return-type 

------------------------------------------------------------
Wed Nov 23 13:26:58 1994  Steve Haflich  (smh@vapor)

General notes:

 - Converted to use ACL defsystem so CLIM defsystem is no longer loaded.
 - Converted to use "clim2" logical pathname.  There may be more changes
   to make to support remote source trees, etc., but this tree will at
   least build in place.
 - Until Colin's process-wait vs dynamic-extent changes are merged, this
   version will run without mp and crash with mp.

	* Makefile.defs:
	Fix TAGS program and added some missing files to tags rules.

	* Makefile.generic
	Load logical pathname translations.
	Add missing set-case-mode.

	* demo/sysdcl.lisp
	Defsystem and logical pathname conversion.

	* hpgl/sysdcl.lisp
	Defsystem and logical pathname conversion.

	* misc/climgccursor.c
	Changed the gc hook to conform to 4.2.devel.27 changes.

	* misc/compile-1.lisp
	Defsystem and logical pathname conversion.

	* misc/dev-load-1.lisp
	Defsystem and logical pathname conversion.

	* postscript/sysdcl.lisp
	Defsystem and logical pathname conversion.

	* sys/defsystem.lisp
	Added warning in case file is ever loaded -- should never be.

	* sys/sysdcl.lisp
	Defsystem and logical pathname conversion.
	Removed bogus pathname frobbing.

	* test/sysdcl.lisp
	Defsystem and logical pathname conversion.

	* test/testdcl.lisp
	Defsystem and logical pathname conversion.

	* tk/foreign-obj.lisp
	* tk/gcontext.lisp
	* tk/xlib.lisp
	Clos extension key changed from :fixed-index to clos::fixed-index.

	* tk/xt-funs.lisp
	Gc-cursor changes.

	* tk-silica/gc-cursor.lisp
	Gc-cursor changes.

	* tk-silica/xt-graphics.lisp
	Clos extension key changed from :fixed-index to clos::fixed-index.

(for 4.2.devel.26 merge):

Tue Jun  7 23:44:53 1994  Duane Rettig  (duane at clay)

New file:

	* Makefile.rs6000: New file for rs6000

Changed files:

	* Makefile: Add stubs variable

	* Makefile.cobjs: Remove lib dependencies 

	* Makefile.cobjs-svr4: Generalize; Fix mainxm dependency

	* Makefile.generic: Add stub file support for rs6000

	* Makefile.sgi4d-svr4: Fix debug lib name; add MOTIFXTRAOS

	* Makefile.sun4-svr4: Add MOTIFXTRAOS

	* instclimxm.lisp: Use portable lib spec

	* clx/pkgdcl.lisp:
	* demo/packages.lisp:
	* postscript/pkgdcl.lisp:
	* utils/clos-patches.lisp:
	* utils/packages.lisp:

	* tk/make-classes.lisp: Add sgi, rs6000 to foreign-defining code

	* utils/lisp-utilities.lisp: Generalize and fix evacuate-list

------------------------------------------------------------
Tue Jan 11 15:30:15 1994  George Jacob  (georgej@lava)

* utils/excl-verification.lisp: Changed version to CLIM2.0

* tk-silica/xt-silica.lisp: Commented out duplicate keysym definition

* Makefile.cobjs: Changed the MAIN_OBJ rule to use stub files directly

------------------------------------------------------------
from colin: Mon Dec  6 21:46:54 PST 1993

tk-silica/ol-silica.lisp	fixed typo

from colin: Mon Dec  6 21:30:54 PST 1993	

Makefile.defs, Makefile.generic
			got rid of DUMP-CLIM - no longer necessary

Makefile.generic	fixed bug in rule for climxm.fasl

clim/accept.lisp	fixed :activation-gestures and :delimiter gestures
			for accept-1 and accept-from-string

clim/frames.lisp	made resizable frames resize when layout changes
			added note-frame-layout-changed

clim/gadget-output.lisp	fixed accepting of multi-line string in
			accept-values-string-field-changed-callback

clim/standard-types.lisp	
			completeley rewrote accept of expressions - this
			fixes a bunch of longstanding bugs

clim/stream-class-defs.lisp	
			standard-sequence-output-history now the
			default instead of coordinate-sorted-set

silica/layout.lisp	simplified resize-sheet (basic-sheet t t)

silica/mirror.lisp	removed bogus sheet-native-transformation method on
			basic-sheet

tk/event.lisp, tk-silica/ol-silica.lisp, tk-silica/xt-silica.lisp
			fixed bug with event type preferencing causing
			problems for motif dnd

tk-silica/ol-gadgets.lisp	
			hacked ol scroll panes again so that
			scroll-bars vertical works properly

tk-silica/xm-frames.lisp
			changed note-frame-current-layout to
			note-frame-layout 

tk-silica/xm-gadgets.lisp
			bug fix in motif scroller panes

tk-silica/xm-silica.lisp
			named xm-cursor widget - aides debugging

tk-silica/xt-pixmap.lisp
			changed all calls to sheet-native-transformation to
			calls to sheet-device-transformation

tk-silica/xt-silica.lisp
			simplified find-shell-parent
			added clim keysym for XK_End

utils/packages.lisp	exported note-frame-layout-changed from clim package

------------------------------------------------------------
Fri Dec  3 15:28:36 1993  Duane Rettig  (duane at clay)

(for 4.2.devel.22 merge):

	* clim-2.0/Makefile.cobjs-svr4: Add PICFLAGS/SHAREFLAGS;
	temporarily remove mainxm.o build

	* clim-2.0/Makefile.hpprism: Add CFLAGS default

	* clim-2.0/Makefile.sgi4d-svr4: New file

	* clim-2.0/Makefile.sun4-svr4: Add PICFLAGS/SHAREFLAGS

	* clim-2.0/misc/xtsupport.c: Fix include references

Tue Nov 23 12:02:05 1993  Duane Rettig  (duane at clay)

(for 4.2.devel.21 merge):

	* climn-2.0/Makefile.hpprism: Add default for MAIN_OBJ

	* clim-2.0/tk/xm-init.lisp: Change to initialization from georgej

	* clim-2.0/demo/ico.lisp: Use excl::array-base instead of ah_data

from cer: Tue Nov 23 11:57:29 PST 1993

Makefile.defs		Make it point to dcl-devel
clim/accept-values.lisp		Added frame-manager-position-dialog
clim/interactive-protocol.lisp	Added line
misc/train.lisp			clim-test: change
misc/xtsupport.c		Added xt_widget_num_popups
silica/db-scroll.lisp		Make scroll-extent a generic function
tk/event.lisp			Rewrote to sequence get-event-matching-sequence-and-types to use
				a special variable to pass data to predicate callback
tk/load-ol.lisp			Xt instead of -lXt in library specification
tk/load-xm.lisp			Xt instead of -lXt in library specification
tk/xt-funs.lisp			Added xt_widget_num_popups
tk-silica/xm-silica.lisp	Destroy-shell when num-popups is zerop
tk-silica/xt-frames.lisp	Added frame-manager-position-dialog
xlib/load-xlib.lisp		X11 instead of -lX11 in library specification
------------------------------------------------------------

from cer: Thu Nov 18 10:42:51 PST 1993

Makefile.defs			Moved to devel.19
clim/accept-values.lisp		Added tester to accept-values-pane translators
				to make sure the query is still valid. [clim2bug620]
				:calling-frame/:input-buffer code checks for
				input-protocol-mixin [clim2bug630]
clim/basic-translators.lisp	Completions menu is now multicolumn format
clim/command-processor.lisp	[clim2bug625] translator returns too many arguments
clim/db-stream.lisp		scroll-bars option ignored in stream-panes
clim/frames.lisp		[clim2bug636] Pane needs redisplay called too
				many times
clim/gadget-output.lisp		:current-selection initarg wrong
clim/graphics-recording.lisp		draw-pixmap code
clim/interactive-protocol.lisp		stream-unread only treats activation
				char specially if its not delimeter [clim2bug622]
				stream-yes-or-no-p stuff.[clim2rfe281]

climtoys/booch.lisp		clim-test: package
climtoys/ibtest.lisp		clim-test: package
misc/train.lisp			clim-test: package
misc/undefinedsymbols		Added _XFlushGCCache
postscript/postscript-port.lisp		Removed debugging code.
silica/gadgets.lisp		[clim2bug623] Initial radio-box/check-box button selection
silica/graphics.lisp		draw-pixmap code
silica/pixmaps.lisp		Added function argument copy-area functions.
test/test-clim-tests.lisp	clim-test: package
test/test-clim.lisp		clim-test: package
test/test-demos.lisp		clim-test: package
test/test-driver.lisp		clim-test: package
test/test-suite.lisp		Added draw-pixmap tests
test/testdcl.lisp		Added test-pkg file
tk/gcontext.lisp		Added decode-function
tk-silica/image.lisp		Added support for version 3 pixmaps.
				Added read-image-file protocol
tk-silica/ol-gadgets.lisp	[clim2bug619] super and hyper gestures not
				turned into accelerators 
tk-silica/xm-frames.lisp	[clim2bug619] super and hyper gestures not
				turned into accelerators.
				progress note only displays slider when
				note-progress called.
tk-silica/xm-gadgets.lisp	Added map-callback for bulletin-board [clim2bug624]
tk-silica/xm-silica.lisp 	Added map-callback for bulletin-board [clim2bug624]
tk-silica/xt-graphics.lisp	Locks around port-copy-gc
				added text-style-fixed-width-p method
				medium-draw-pixmap*
tk-silica/xt-pixmaps.lisp	Added function argument copy-area functions.
tk-silica/xt-silica.lisp	[clim2bug638] calling-frame problem
				[clim2bug624] port-move-frame stuff
utils/packages.lisp		Exported draw-pixmap functions
xlib/xlib-funs.lisp		Added _xflushgccache


--------------------------------------------------------------------------------
from colin: Thu Oct 28 00:10:46 PDT 1993

clim/coordinate-sorted-set.lisp
- fixed bug which caused image to dump core

demo/demo-driver.lisp
- minor bug fix in handling of :background 

-------------------------------------------------------------------------------

from colin: Mon Oct 25 20:19:08 PDT 1993

Makefile.defs
- added -backtrace-on-error to training

clim/command.lisp
- fixed bad delete in remove-presentation-translator-from-command-table 
- fixed pointer-documentation bug in write-command-argument-translators

clim/coordinate-sorted-set.lisp
- added a recompute-extent-for-changed-child :after method to reposition
  output record in vector when it moves

clim/recording-protocol.lisp
- added convert-from-child-to-parent-coordinates
- fixed recompute-extent-for-changed-child
- fixed a bunch of functions doing incorrect translations before
  calling recompute-extent-for-changed-child

clim/table-formatting.lisp
- changed tree-recompute-extent-1 (output-record-mixin)

clim/text-formatting.lisp
- fixed invoke-indenting-output when cursor-x-pos non 0

clim/text-recording.lisp
- fixed call to recompute-extent-for-changed-child

demo/demo-driver.lisp
- added :background arg to run-demo
- fixed up *package* for background processes

demo/graphics-editor.lisp
- added :initial-cursor-visibility nil

demo/db-scroll.lisp
- fixed scroll-extent so that it calls note-viewport-position-changed when
  pane scrolls 

tk/convenience.lisp tk/make-classes.lisp tk/make-widget.lisp
tk/ol-init.lisp tk/ol-widgets.lisp tk/widget.lisp, tk/xm-widgets.lisp,
tk-silica/xm-gadgets.lisp tk-silica/xt-gadgets.lisp tk-silica/xm-frames.lisp 
- various changes to handle :name correctly - ie translate lisp name to tk
  name sensibly

tk-silica/xt-gadgets.lisp
- added method mirror-region* (xt-port xt-top-level-sheet)


tk-silica/ol-gadgets.lisp, tk-silica/xm-frames.lisp
- :divider type for command-menu-items now handles :value of :line

tk/xlib.lisp
- added support for X cut-buffer

-------------------------------------------------------------------------------

from cer: Mon Oct 25 09:13:49 PDT 1993

Makefile.defs			Removed clim-motif_d.o from default build
clim/accept-values.lisp		make-pane-from-view takes keywords to remove
clim/command-processor.lisp	correct defaulting of translator :pointer-documentation
clim/db-stream.lisp		Explicit max/min width/height overides :width/height :compute
clim/gadget-output.lisp		make-pane-from-view takes keywords to remove
				text-editor and list-pane views take :scroll-bars argument
clim/graph-formatting.lisp	Implement :center-nodes t for tree layout
clim/graphics-recording.lisp	Added with-half-thickness-1 for use in xt-graphics
clim/menus.lisp			Removed bogus calling frame method
				frame-manager-get-menu takes parent-frame argument
clim/recording-protocol.lisp	Added COMMENTED OUT (setf stream-output-history) method
clim/view-defs.lisp		make-pane-from-view takes keywords to remove
climtoys/ibparts.lisp		Nothing serious
demo/demo-driver.lisp		Added (*package* (find-package :clim-demo)) binding in demo-driver
demo/plot.lisp			Removed bogus command
misc/undefinedsymbols.xt	Added XtAppSetFallbackResources
silica/db-scroll.lisp		Added x,y arguments to note-viewport-position-changed
test/test-clim.lisp		Added test
test/test-driver.lisp		If process does not terminate you now get an error.
test/test-suite.lisp		Added centered node grapher test


from cer: Wed Sep 22 14:19:31 PDT 1993

Makefile.defs			-> devel.18
clim/accept-values.lisp		Moved (defvar *editting-field-p* nil) before use
clim/frames.lisp		find-application-frame now takes :port, :frame-manager args
demo/demo-driver.lisp		Always define test suite demo
demo/plot.lisp			Removed bogus translator
test/test-driver.lisp		Added commented out debugging function
tk-silica/xt-graphics.lisp	Replaced member by find since its on a vector

Wed Sep 22 10:57:07 1993  Kevin Layer  (layer@sole)

	* clim-2.0/Makefile.cobjs: move .c generation stuff to
	Makefile.generic because svr4 needs to use it; MAIN_OBJ hack

	* clim-2.0/Makefile.cobjs-svr4: MAIN_OBJ hack

	* clim-2.0/Makefile.defs: TRAIN_BM used by cl's make-dist

	* clim-2.0/Makefile.generic: use -backtrace-on-error; move .c
	generation to this file

	* clim-2.0/misc/make-stub-file1: workaround weird C compiler
	(bug?) on solaris 2: don't assign class values to variable,
	make them an argument to an uncalled function.

	* clim-2.0/misc/train.lisp: use ../src/clos-preload.cl if it
	exists.

	* clim-2.0/tk/xm-init.lisp: svr4 hack for static loaded case

	* clim-2.0/tk-silica/xt-silica.lisp: fix from cer to define a
	method for sheet-mirrored-ancestor-of-clim-stream-sheet-p that
	does nothing in the case of a t argument, and something in the
	case of a sheet-parent-mixin.

*******************************************************************************

from cer: Fri Sep 17 12:03:17 PDT 1993

Makefile.defs			Replaced /vapor by /net/vapor, Added PRODUCT_SRC_FILES
Makefile.generic		Used PRODUCT_SRC_FILES in echo rule
Makefile.sun4.motif-1.1.4	Replaced /vapor by /net/vapor
clim/accept-values.lisp		Used destroy-frame instead of disown-frame
				Bound (*editting-field-p* nil)
clim/command-processor.lisp	Used discard-keystroke-gesture in menu-command-parser
clim/completer.lisp		Fixed completer to handle :eof better
clim/dragging-output.lisp 	Indentation
clim/frames.lisp		Frame max size is now the size of the graft
clim/graph-formatting.lisp	Implemented grapher-fake-object for use in grapher-made nodes.
				Made off/on-page connectors use them
clim/incremental-redisplay.lisp	Debugging statements and declare ignores.
clim/output-protocol.lisp	declare ignores
clim/pixmap-streams.lisp	width/height check for pixmaps
clim/r-tree.lisp		delete-output-record failing test.
clim/recording-protocol.lisp	Establish clipping region for stream-replay
clim/standard-types.lisp	simple-lisp-object-parser and keyword parser changes.
clim/view-defs.lisp		Added iconic view
climtoys/booch.lisp		Cloud-line intersection code.
climtoys/draw-sheets.lisp	print-widget-hierarchy, print-sheet-hierarchy code
climtoys/ib.lisp		display-classes palette uses updating-output
				moved wire code to ibparts.lisp
climtoys/pi.lisp		Has set wt::*c* menu item
climtoys/sysdcl.lisp		Added ibparts.lisp
demo/bitmap-editor.lisp		Removed copyright, Renamed color -> color-frame
demo/color-editor.lisp		Renamed color -> color-frame
demo/ico.lisp			Added scroll-bars nil, max-height/min-width :compute
demo/navfun.lisp		removed iconic view
demo/palette.lisp		Removed copyright
demo/plot.lisp			Removed copyright
demo/process-browser.lisp	Removed copyright
hpgl/pkg.lisp			Package locking
misc/train.lisp			Various debugging output
postscript/pkgdcl.lisp		Package locking
silica/framem.lisp		Added declare ignore
silica/medium.lisp		Added declare ignore
silica/mirror.lisp		Update port miror->sheet table appropriately
test/test-clim-tests.lisp	Fixed undefined variable
test/test-clim.lisp		Added Accept-string test
test/test-demos.lisp		Expanded tests for demos
test/test-driver.lisp		Commented output debugging into
				Look for presentations
				Added cannot-find-presentation-error condition
				Change gadget-value, activate-gadget code
				menu manipulation code
				with-waiting macro
test/test-suite.lisp		More menu tests
tk/event.lisp			Split wait-for-event for efficiency
tk/gcontext.lisp		Eliminated allocation
tk/graphics.lisp		noted allocation errors
tk/make-widget.lisp		Eliminated writer methods
tk/pkg.lisp			package locking
tk/widget.lisp			Added counters
tk/xlib.lisp			pixmap width/height test
tk/xm-funs.lisp			specified :callback nil
tk-silica/image.lisp		Support for reading pixmaps without palette
tk-silica/last.lisp		
tk-silica/ol-gadgets.lisp	Fixed radio/check box geometry calculation
tk-silica/ol-silica.lisp	Warning about OPENWINHOME
tk-silica/pkg.lisp		package locking
tk-silica/xm-frames.lisp	Use appropriate :packing in menu
tk-silica/xm-gadgets.lisp	Added missing :item-count in list-pane writer
tk-silica/xm-silica.lisp	Added commented out shell destroyer
tk-silica/xt-frames.lisp		
tk-silica/xt-graphics.lisp	Added rounding error notes
tk-silica/xt-silica.lisp	Updating port mirror->sheet mapping
				backing store is now when-mapped
utils/clim-streams.lisp		Declare *original-stream*
utils/clos-patches.lisp		
utils/packages.lisp		implementation-package stuff for package locking
utils/processes.lisp		


from colin: Fri Sep 17 11:34:06 PDT 1993

demo/demo-driver.lisp
demo/demo-activity.lisp		fixed problem activity demo

-------------------------------------------------------------------------------

Thu Sep 16 22:26:58 1993  Duane Rettig  (duane at clay)

	* Makefile.defs: Parameterize composer CL_SRC directory

	* Makefile.generic: Save ucl for .o inclusion

	* Makefile.hpprism: New file

	* Makefile.sun4: Comment MOTIFXTRAOS

	* misc/compile-1.lisp: Set update-entry-points to nil for speed

	* misc/dev-load-1.lisp: Set update-entry-points to nil for speed

-------------------------------------------------------------------------------

from colin: Thu Sep 16 17:17:55 PDT 1993

clim/completer.lisp		fix to clim2bug600

demo/demo-driver.lisp		use an application-frame rather than menu

demo/address-book.lisp, demo/bitmap-editor.lisp, demo/browser.lisp,
demo/cad-demo.lisp, demo/color-editor.lisp, demo/custom-records.lisp,
demo/demo-activity.lisp, demo/graphics-demos.lisp
demo/graphics-editor.lisp, demo/ico.lisp, demo/listener.lisp,
demo/navfun.lisp, demo/palette.lisp, demo/peek-frame.lisp, demo/plot.lisp
demo/process-browser.lisp, demo/puzzle.lisp, demo/thinkadot.lisp,
test/test-suite.lisp
	replaced (defvar *xxx's*) and (defun do-xxx) with 
	(define-demo ...) which does it all	

test/test-demos.lisp		run-all-demos knows about new demo-driver

tk-silica/xt-frames.lisp	fix-coordinates in update-frame-settings
tk-silica/xt-graphics.lisp	use lookup-color instead of parse-color

-------------------------------------------------------------------------------

from colin: Tue Sep  7 14:42:57 PDT 1993

Makefile.defs			now using devel.17

clim/output-recording-defs.lisp	removed
clim/standard-sequence.lisp	removed
clim/standard-tree.lisp 	removed
clim/text-output-recording.lisp removed

clim/frames.lisp		added function limit-size-to-graft

clim/graphics-recording.lisp	bounding rectangle for text-output-records
				changed to use medium-merged-text-style
				rather than medium-text-style

clim/output-protocol.lisp	silica::scrolled-pane-line-scroll-amount
				uses medium-merged-text-style rather than
				medium-text-style 

demo/plot.lisp			use medium-merged-text-style...

silica/medium.lisp		engraft-medium sets text-style of new
				medium to nil (not medium-default-text-style)
				added setf medium-text-style :before method
				which invalidates medium-merged-text-style

silica/port.lisp		added defgeneric port-type, port-name

test/test.lisp			use pattern for icon pixmap

tk-silica/image.lisp		added truename for files passed to pbm
				filters in read-bitmap-file 

tk-silica/xm-gadgets.lisp	hack to make setf (gadget-alignment) work

tk-silica/xt-frames.lisp	made update-frame-settings use
				pixmap-from-pattern with bitmap format
				limit size of top level shell to size of
				graft 
				
tk-silica/xt-gadgets.lisp	decode-gadget-background handles patterns
				properly 

tk-silica/xt-graphics.lisp	engraft-medium doesn't set indirect-inks to
				nil anymore (only degraft-medium does) and
				doesn't call invalidate-indirect-inks
				added gf deallocate-ink
				decode-pattern-ink split into
				decode-pattern-ink and pixmap-from-pattern

tk-silica/xt-silica.lisp	added port-name
				made get-xt-resources more robust to
				invalid resource specifications

utils/designs.lisp		fixed bug in (method color-rgb (ihs-color))

utils/packages.lisp		export port-name from clim package

-------------------------------------------------------------------------------

Thu Aug 12 12:01:08 1993  Kevin Layer  (layer@sole)

	* Makefile.cobjs-svr4: make sure setup_LLP exists before using it.

	* Makefile.defs: add TRAIN_PROFILEP, TMP=/usr/tmp

	* Makefile.generic: new rules (used by make-dist) train-xm and
	train-ol

	* Makefile.sun-sun4: renamed from Makefile.svr4

	* misc/devl-load-1.lisp: load-it now takes a keyword argument:
	load-composer (used by make-dist); fix name of clos preload file
	to be the same as the one make-dist creates (so if the training is
	run, then make-dist will use the `better' one).

	* misc/train.lisp: compile test/test-suite only if needed, and do
	it with :print nil and :vervose t (instead of both t); don't do
	generate-coverate-report unless fboundp.  Remove clos-preload files
	before starting.

	* test/test-driver.lisp: print test report to *error-output* so
	make-dist can segregate it from the rest of the test output

	* tk/pkg.lisp: add in-package (so don't get a compiler warning)

	* tk-silica/pkg.lisp: fix defpackage (use keywords instead of
	symbols in whatever package is current); add in-package

	* xlib/pkg.lisp: add in-package

	* utils/processes.lisp: require :mdproc and :process

*******************************************************************************
Mon Aug 16 15:15:00 1993  Steven Haflich

	* clim/ptypes1.lisp:
	* pre-silica/drawing-state-mixin.lisp:
	* silica/medium.lisp:
	* silica/text-style.lisp:
	* utils/base-designs.lisp:
	* utils/extended-regions.lisp:
	* utils/regions.lisp:
	* transformations/regions.lisp:
	Added &optional enviuronment arg to make-load-form lambda list.

-------------------------------------------------------------------------------

from cer: Thu Aug 12 09:01:17 PDT 1993

Makefile.defs		Added definition of climdemo.fasl
Makefile.generic	Added definition of climdemo.fasl
clim/accept-values.lisp	removed warning
clim/db-stream.lisp	Window-shift-visible-region now will clear and replay
			common area  
clim/excl-presentations.lisp	removed warning
clim/input-editor-commands.lisp		removed warning
clim/input-protocol.lisp		Deleted bogus receive-gesture{-list} methods
clim/noting-progress.lisp		removed warning
clim/pixmap-streams.lisp		text-style bug
climtoys/booch.lisp		Added edge/cloud intersection code.
climtoys/coverage.lisp		Added known-clim2-files
climtoys/ib.lisp		Added commands to show palette and graph windows
climtoys/ibgen.lisp		Code generation for text-editor
demo/plot.lisp			removed warning
demo/sysdcl.lisp		Added demo-last.lisp
misc/dev-load-1.lisp		Load climdemo.fasl
misc/train.lisp			Coverage report just on clim files.
misc/undefinedsymbols.motif	Added XmTextFieldGetSelection
postscript/pkgdcl.lisp		Moved (provide :climps) to actual code.
postscript/postscript-port.lisp	Postscript code page suize bugs and use of
			sequence output record
silica/db-scroll.lisp		pane-viewport no longer recurses
silica/event.lisp		downcased something?!
silica/gadgets.lisp		(setf gadget-value) radio-box, check-box and
				other bugs. text-field current-selection
test/test-clim.lisp		Moved clim-tests stuff to new file
test/test-demos.lisp		
test/test-driver.lisp		New features
test/test.lisp			Tests for text-selection
test/testdcl.lisp		Added test-clim-tests.lisp
tk/resources.lisp		Comments for allocation but no freeing
tk/widget.lisp			Comments for allocation but no freeing
tk/xlib.lisp			Comments for allocation but no freeing
tk/xm-callbacks.lisp 		Added convert-pixmap-out method
tk/xm-funs.lisp			New functions
tk/xm-widgets.lisp		Comments for allocation but no freeing
tk/xt-funs.lisp			
tk-silica/ol-gadgets.lisp	Gadget-editable-p problems, current selection 
tk-silica/xm-gadgets.lisp	current selection
tk-silica/xt-frames.lisp	Added catcher, plus mechanism to allow
				test-driver to catch menu choose
tk-silica/xt-silica.lisp	with-toolkit-dialog-component needs a better name
utils/packages.lisp		exported gadget-current-selection
				
-------------------------------------------------------------------------------

from colin: Fri Jul 30 16:18:10 PDT 1993

clim/pixmap-streams.lisp
- fixed bug text-style of pixmap-streams being nil

test/test-suite.lisp
- added tests for general designs which aren't yet implemented
- improved error catching during rendering

tk/ol-widgets.lisp
- added resource class fontColor to text-field

tk/resources.lisp
- convert-resource-out/in methods for ol

tk-silica/ol-gadgets.lisp
- made text-field and text-editor set font color

tk-silica/xt-gadgets.lisp
- fixed bug with color resources in find-application-resource-initargs

-------------------------------------------------------------------------------

Thu Jul 29 13:44:54 1993  Kevin Layer  (layer at sole)

* Makefile.cobjs-svr4: make sure LD_LIBRARY_PATH is setup properly

* Makefile.dec3100: set `Makefile' variable
* Makefile.defs: ditto
* Makefile.hp700: ditto
* Makefile.sun4.motif-1.1.4: ditto
* Makefile.svr4: ditto

* Makefile.generic: fix clean; add install_obj used by make-dist

* misc/train.lisp: don't (setq *global-gc-behavior* nil)
* test/test-driver.lisp: ditto

* tk/load-ol.lisp:
* tk/load-xm.lisp:
* tk/make-classes.lisp:
* xlib/load-xlib.lisp:
  :note-shared-library-references nil on get-entry-point

* tk/resources.lisp: solaris 2.2 hacking from cer

* tk/xt-funs.lisp: fix argument types (string -> simple-string) so
call-direct is done

-------------------------------------------------------------------------------

from colin: Tue Jul 27 15:26:56 PDT 1993

test/test-suite.lisp
- made ignore-clim-gesture wait 4 seconds - fixes problem where window
  degrafted before initial repaint events are handled

tk-silica/ol-frames.lisp
- fixed typo

tk-silica/ol-gadgets.lisp
- set menu-pane background for pulldown menus from menu-bar initargs


-------------------------------------------------------------------------------

from colin: Mon Jul 26 17:28:19 PDT 1993

misc/load-xm.lisp
- removed

Makefile.cobjs
- stub-file for motif no longer includes XT_UNDEFS
- make rule for open look stub file now depends on OLC_UNDEFS
- removed dependency of stub-x.c on OL_UNDEFS

Makefile.defs
- recursive make gets $TMP

clim/accept-values.lisp, clim/accept.lisp, clim/defprotocol.lisp,
clim/input-protocol.lisp, clim/interactive-protocol.lisp,
clim/recording-protocol.lisp, clim/table-formatting.lisp,
clim/text-formatting.lisp, compatibility/clim1-compatibility.lisp,
utils/packages.lisp 

- changed encapsulated-stream to encapsulating-stream

clim/accept-values.lisp
- added :background initarg to accepting-values own-windows
- made avv-own-windows use same input-buffer as calling frame
- disabled hitting ok when editting a field
- added :newline accelerator to avv dialogs
- added get-frame-pane-to-avv-stream-table which creates a hash-table if
  needed
- added default name to accept-values button gadgets

clim/clim-defs.lisp
- added :background initarg to accepting-values own-windows

clim/cursor.lisp
- support for controlling cursor color
- added *default-cursor-color*
- added cursor-color and setf cursor-color

clim/db-stream.lisp
- fixed handling of background in make-clim-stream-pane-1

clim/frames.lisp
- added background slot to standard-application-frame
- added color-stream-p

clim/gadget-output.lisp
- added default-supplied arg to make-gadget-for-text-editor
- added default-supplied arg to make-gadget-for-text-field-view
- added default decode-indirect-view methods for various ptypes.
- added default present-methods for various ptypes.

clim/pixmap-streams.lisp
- changed invoke-with-output-to-pixmap to set up the medium-default-text-style
  and medium-text-style of the pixmap medium

clim/ptypes1.lisp
- added default method for inherited-presentation-type-paramters-method
- added default method for inherited-presentation-type-options-method

demo/demo-driver.lisp
- removed *color-stream-p* and color-stream-p

demo/ico.lisp
- replaced remove-color-from-palette with remove-colors-from-palette

demo/navfun.lisp
- added :stream arg to accept in avv dialog in com-flight-plan

misc/undefinedsymbols.xt
- added XtConvertAndStore

silica/framem.lisp
- support for setting frame-background color

silica/medium.lisp
- various hacks on resource stuff

silica/pixmaps.lisp
- pixmap-sheets no longer try to be grafted twice
- various hacks on resource stuff

silica/sheet.lisp
- re-enstated note-sheet-grafted :around hack.

tk/load-ol.lisp, tk/load-xm.lisp
- sys::*libxt-pathname* defaults to "-lXt"

tk/widget.lisp
- made widgets always have a name (default from class name)

tk/xlib.lisp
- hacked get-resource so that it doesn't allocate as much

tk-silica/image.lisp
- changed read-pixmap-file-1 to use find-name-color to parse color names

tk-silica/ol-frames.lisp
- hacked frame-manager-construct-menu to deal with text-style and resources
  properly

tk-silica/ol-gadgets.lisp
- hacked openlook-menu-bar to deal with text-style and resources properly
- added ol-specific find-widget-resource-initargs-for-sheet and
  find-application-resource-initargs 

tk-silica/xm-frames.lisp
- hacked frame-manager-construct-menu to deal with text-style and resources
  properly
- hacked motif-menu-bar to deal with text-style and resources properly

tk-silica/xm-gadgets.lisp
- added explicit "" default for label gadgets
- added drag-callback to scroll-bars
- various hacks on resource stuff
- added motif-specific find-widget-resource-initargs-for-sheet and
  find-application-resource-initargs 

tk-silica/xt-frames.lisp
- menu-bar and pointer-documentation panes now named
- added :min-height to pointer-doc pane

tk-silica/xt-gadgets.lisp
- various hacks on resource stuff

tk-silica/xt-graphics.lisp
- sped up medium-device-clip-region 
- fixed bug with caching of clip-region
- free up pixmaps and images associated with inks when destroyed
- various clean ups and minor bug-fixes

tk-silica/xt-silica.lisp
- various hacks on resource stuff.
- hacked get-xt-resources so it doesn't allocate as much 

utils/clim-streams.lisp
- fixed *original-stream* bug

utils/packages.lisp
- exported color-stream-p and *default-cursor-color* from clim
- exported frame-background from silica

xlib/load-xlib.lisp
- sys::*libx11-pathname* defaults to "-lX11"

-------------------------------------------------------------------------------

from cer: Thu Jul 22 08:36:06 PDT 1993


Makefile.defs		Now use devel.15
Makefile.generic	Added rule to print summary of test run
clim/accept-values.lisp		Eliminate warnings
clim/db-stream.lisp		Eliminate warnings
clim/design-recording.lisp	Eliminate warnings
clim/frames.lisp		Eliminate warnings
				Eliminate delay in updating pointer documentation
clim/graph-formatting.lisp	Eliminate warnings
clim/input-editor-commands.lisp	Eliminate warnings
clim/input-protocol.lisp	Remove unused code
clim/noting-progress.lisp	Make work on non-clim streams
clim/ptypes1.lisp		Move finalize-inheritance inside errorset
				Added missing call
climtoys/booch.lisp		Added :toggle-button-options (:indicator-type  nil)
demo/bitmap-editor.lisp		Added :query-identifier so that it will run interpreted
demo/browser.lisp		Replaced proclaims by declaims
demo/cload-demos.lisp		Added browser.lisp to list of files
demo/custom-records.lisp	Replaced proclaims by declaims
demo/listener.lisp		Eliminate warnings
demo/navfun.lisp		Eliminate warnings
demo/plot.lisp			Eliminate warnings
misc/dev-load-1.lisp		Just require composer
silica/classes.lisp		Eliminated alive-p. just check for process now
silica/db-box.lisp		vertically/horizontally now support fixced size panes
silica/db-label.lisp		Moved compute-gadget-label-size here
silica/db-layout.lisp		vertically/horizontally now support fixced size panes
silica/gadgets.lisp		removed compute-gadget-label-size here
silica/mirror.lisp		Eliminate warnings
silica/port.lisp		port-alive-p just checks for process now
				Eliminate warnings
sys/defsystem.lisp		Eliminate warnings
test/test-demos.lisp		new query-id in bitmap editor
test/test-driver.lisp		Added generate-pretty-test-report
				Eliminate warnings
test/test-suite.lisp		Added non-string menu-choose
tk/xm-funs.lisp			Added XmToggleButtonSetState XmToggleButtonGetState
tk/xm-widgets.lisp		Removed warning
tk-silica/image.lisp		Removed warning
tk-silica/ol-frames.lisp	Implemented multi-column menus
tk-silica/ol-gadgets.lisp	:scroll-bars t now works
tk-silica/xm-frames.lisp	Menu-choose uses princ-to-string now
				noting-progress uses slider
tk-silica/xm-gadgets.lisp	:scroll-bars t now works
				Use XmToggleButtonSetState XmToggleButtonGetState
				Removed warning
tk-silica/xm-silica.lisp	Removed warning
utils/defun-utilities.lisp	Removed warning
xlib/ffi.lisp			Removed warning

-------------------------------------------------------------------------------
Fri Jun 25 08:58:35 1993  Kevin Layer  (layer@sole)

	* Makefile.generic: pass :load-xref-info and
	:load-source-file-info to si::system-compile-wrapper

	* test/test-driver.lisp: x11:xsync is no longer in the x11
	package, so #+ignore this call

-------------------------------------------------------------------------------
from cer: Tue Jun 22 17:12:03 PDT 1993

test/test-driver.lisp		Replaced xsync call by xm-silica::port-finish-output
test/test-suite.lisp		reindent
tk/event.lisp			debugging
tk-silica/image.lisp		
tk-silica/ol-gadgets.lisp		Added set-button-accelerator-from-keystroke
tk-silica/xm-frames.lisp		Added set-button-accelerator-from-keystroke
tk-silica/xt-gadgets.lisp		Removed set-button-accelerator-from-keystroke
tk-silica/xt-graphics.lisp		Added port-finish-output

-------------------------------------------------------------------------------
from cer: Mon Jun 21 13:43:34 PDT 1993

Makefile.defs			Use devel.13
clim/accept-values.lisp		Make accept-values-pane-display take a view argument
clim/frames.lisp		Name the restarts for pane redisplay errors
clim/interactive-protocol.lisp		frame-manager-display-help
				pops up a window if the frame type is
				accept-values  
clim/presentations.lisp		find-appropriate-window only does it
				if its extended-input-stream
climtoys/booch.lisp		Made it cool
climtoys/ib.lisp		many changes
climtoys/ibed.lisp		many changes
climtoys/ibparse.lisp		many changes
climtoys/ibgen.lisp		many changes
climtoys/ibparse.lisp		many changes
climtoys/ibtest.lisp		many changes
postscript/postscript-medium.lisp 	Fix line-style problem
postscript/postscript-port.lisp		Line style cache
silica/db-box.lisp		Fixed bulletin-board-pane
silica/db-layout.lisp		Removed duplicate bulletin-board-pane
silica/layout.lisp		Added window-refresh for top-level-sheet
test/test-demos.lisp		Added test for out bounds lines
test/test-driver.lisp		Added xsync, query-identifier styff
test/test.lisp			Fixed bulletin-board-pane
tk-silica/xt-graphics.lisp	Fixed problem with clipper return NIL
				when line should not be drawn


-------------------------------------------------------------------------------

from cer: Fri Jun  4 09:05:19 PDT 1993

Makefile.defs		hacking for 2.0.beta2
Makefile.generic	hacking for 2.0.beta2
Makefile.svr4		hacking for 2.0.beta2
clim/command.lisp	Elimination of typechecking
clim/output-protocol.lisp	glyph buffer is now nil
demo/demo-activity.lisp		Elimination of bogus :width/:height
notes/profiles/.cvsignore		Ignore profiles
silica/db-scroll.lisp		Elimination of dynamic scrollbar code
silica/framem.lisp		prevent find-frame-manager from always calling (find-port)
silica/gadgets.lisp		Elimination of dynamic scrollbar code
silica/text-style.lisp		Coments and reindentation
test/test-clim.lisp		Commented out olit test for multiple displays
test/test-driver.lisp		Put flat/tree profiles in separate files
tk/load-ol.lisp			svr4 2.0.beta2 stuff
tk/load-xm.lisp			svr4 2.0.beta2 stuff
tk/make-classes.lisp		svr4 2.0.beta2 stuff. Refind class entry points on startup
tk/meta-tk.lisp		Describe method for xt-class
tk/ol-init.lisp		svr4 shared library reinitializations
tk/widget.lisp		Fixed typo in message
tk/xm-init.lisp		svr4 shared library reinitializations
tk-silica/ol-gadgets.lisp		Comments
tk-silica/xt-silica.lisp		Comments

-------------------------------------------------------------------------------
from cer: Wed Jun  2 11:27:19 PDT 1993


Makefile.defs		Train times is now just 1
Makefile.sun4		Defined MOTIFHOME variable and made it point to 1.2.2
			Defined OPENLOOKHOME
clim/accept-values.lisp Turn off align prompts around call to
				find-or-add-query so that nested
				accepts do loose.
				Added
				frame-manager-construct-avv-panes gf
				align  prompts in avv-buttons
				:view argument to accept-values-pane-displayer-1
clim/accept.lisp		
clim/db-stream.lisp		Added (setf pane-needs-redisplay)
				Fixed bug in make-clim-stream-pane-1
clim/input-editor-commands.lisp		Fixed symbol-at-point
clim/pixmap-streams.lisp		invoke-with-output-to-pixmap
				now does a
				with-output-to-output-record if width
				and height not specified
clim/ptypes1.lisp		smh class finalization changes
climtoys/ib.lisp		Zillion changes
climtoys/sysdc.lisp		Added new files 
demo/graphics-editor.lisp	Added example keystroke 
misc/climgccursor.c		Cursor now XC_watch
misc/compile-1.lisp		Use test/testdcl, Compile clim-toys here
misc/dev-load-1.lisp		load test/testdcl
misc/train.lisp		Profile after coverage-report, run-benchmarks
				to notes/times
postscript/postscript-port.lisp		Fixed line-width
silica/classes.lisp		Made miror-hash table equal
silica/db-scroll.lisp		scrollbars display union of viewport
				and contents
silica/event.lisp		smh changes for finalization
silica/layout.lisp		top-level-sheet text margin is now most-positive-fixnum
silica/medium.lisp		(setf pane-foreground/background/text-style) methods
test/test-clim.lisp		More tests
test/test-driver.lisp		Centered around *invocation* and main
				scripts can now be written in Lisp
test/test-suite.lisp		dependee-mixin no longer exported
tk/ol-widgets.lisp		added :busy resource
tk-silica/image.lisp		
tk-silica/ol-gadgets.lisp		Moved code to xt-gadgets.lisp
				unwind-protect to ensure dialog popped down
				Added port-set-pane-text-style
tk-silica/xm-dialogs.lisp	Added frame-manager-construct-avv-panes method
tk-silica/xm-frames.lisp	made progress note modeless
tk-silica/xm-gadgets.lisp 	moved code to xt-gadgets
				added port-set-pane-text-style
tk-silica/xt-frames.lisp	Fixed typo
tk-silica/xt-gadgets.lisp		Added port-set-pane-foreground/background
				Handle special accelerator chars correctly
utils/clos-patches.lisp		compiler-environment-p now handles (eq environment 'compile-file)


-------------------------------------------------------------------------------
from jdi: Mon Jul 27 19:28:33 PDT 1992

NOTES
    1: Delete files:
	clim/output-recording-protocol.lisp
	clim/output-recording-defs.lisp

    2: New directory malloclib.  Contains debugging version of malloc &
       friends.  To turn on, uncomment appropriate lines in Makefile

    3: This time, you want most of my changes to the Makefile.  I tried to
	edit out the unnecessary ones.
--

	Makefile
		-- Added optional malloclib support.  Added source rule
		   so TAGS file is correct.

	clim/frames
		-- Added support for use-specified-{size,position}-p frame
		   and their default processing in make-application-frame.

	clim/graphics-recording
		-- Fixed problem where point sequence wasn't always copied,
		   leading to death because the original was stack allocated.

	clim/input-protocol
		-- Turn off highlighted presentation on leave event.

	clim/menus
		-- Send the beep to a CLIM window.

	misc/dev-load-1
		-- take out malloc & bogus update-package form

	misc/load-xm
		-- take out malloc

	misc/undefinedsymbols
		-- add X{Get,Set}WMNormalHints

	silica/framem
	silica/layout
		-- more user-specified hacking

	tk/convenience
	tk/make-widget
	tk/ol-init
	tk/ol-widgets
	tk/xm-widgets
	tk/widget
		-- remf had args reversed

	tk/load-ol
	tk/load-xm
	tk/load-xt
	xlib/load-xlib
		-- remove-entry-point no longer necessary

	tk/make-classes
		-- resource not found error now caught at higher level.

	tk/pkg
		-- export realize-widget

	tk-silica/xt-graphics
		-- finish output needs to XSync, not XFlush

	tk-silica/xt-silica
		-- sheet-mirror-event-handler rewritten.  Now doesn't have
		   to incur server roundtrip for each event.
		   Button handling code rewritten.
		-- new enable-mirror method for user-specified stuff
		-- misc other stuff

	xlib/xlib-defs
		-- added xsizehints definition
	xlib/xlib-fnus
		-- added xallocsizehints, xsetwmnormalhints, xgetwmnormalhints


--------------------------------------------------------------------------------
from swm: Mon Jul 20 13:49:12 PDT 1992

General bug fixing
  - Small problem in OUTPUT-RECORD-ELEMENT for STANDARD-SEQUENCE-OUTPUT-RECORD 
  - Fixed one problem in incremental redisplay of overlapping output
  - Fixed GENERATE-CROSSING-EVENTS not to generate exit events when moving
    into a child sheet.  Controlled by *GENERATE-EXIT-EVENT-WHEN-ENTERING-CHILD*.
  - Renamed MOVE-SHEET*, RESIZE-SHEET*, and MOVE-AND-RESIZE-SHEET* to remove the
    "*" from the names.
  - Made frames such as menus and dialogs position themselves appropriately. 
  - Made MAKE-APPLICATION-FRAME position the frame to the requested place.
  - Made POINTER-SET-POSITION tell the host to actually move the pointer.
    *** You will need to implement SILICA:PORT-SET-POINTER-POSITION for the
    Motif and OpenLook ports. ***
  - Made the port event loops continually update the modifer state slot in
    the port object, and the buttons state in the pointer object.  This is
    needed so that users can reliably query the state of these objects.
  - Put INVALIDATE-CACHED-REGIONS and INVALIDATE-CACHED-TRANSFORMATIONS methods
    on the proper classes,
  - Fix DEFINE-CLX-KEYSYM, DEFINE-GENERA-KEYSYM, and TK-SILICA::DEFINE-KEYSYM
    to evaluate their keysym arguments.  (Now I know why the keyboard gesture
    stuff was not working for you - it worked by accident on Genera.)
  - Extended the demo driver functions to take a port argument, so that
    the demos can be used simultaneously on multiple ports.  (We needed
    this for AAAI.)

General performance work
  - Added support for resourced events.  This feature is off by default while
    I finish debugging it.  There is a (harmless) storage leak I haven't found
    yet, plus one case where events get multiply deallocated.  Overall, this
    reduces consing tremendously, and has no performance penalty.
  - Implemented MAP-OVER-SHEETS-OVERLAPPING-REGION, which is a non-consing
    version of CHILDREN-OVERLAPPING-REGION.  This gets used all the time.
  - Made RESIZE-SHEET, UPDATE-REGION, and VIEWPORT-REGION-CHANGED, and some 
    other things avoid consing a new region by reusing the old one.
  - Added lots of DYNAMIC-EXTENT declarations to avoid consing excessive lexical
    closure environments.
  - Change SHEET-SINGLE-CHILD-MIXIN so that SHEET-CHILDREN does not cons.
  - Optimized DEFINE-GRAPHICS-GENERIC a little more.
  - Changed MEDIUM-COPY-AREA methods for Genera and CLX port to call 
    SHEET-DEVICE-TRANSFORMATION instead of SHEET-NATIVE-TRANSFORMATION.
    The two functions always return the same result, but SHEET-NATIVE-TRANSFORMATION
    conses each time it is called.
  - Changed CURSOR-SET-POSITION to manage the cursor in a speedier way in some 
    cases (it doesn't notify the host when FASTP is T).  There is still a bug that
    needs to be fixed by changing one place to bind the cursor off.  This makes
    text output about 35-40% faster.
  - Made INVALIDATE-CACHED-REGIONS set a flag to indicate that the region should
    be recomputed.  Then SHEET-DEVICE-REGION reuses the previous invalidated
    region instead of creating a new one.  This save a *lot* of consing during
    scrolling.

The Genera port
  - Fixed problems in DRAW-PATTERN*
  - Fixed some race conditions with Genera's window system
  - Made text output twice as fast.

The CLX port
  - Made configuration and exposure notifications work correctly.
  - Made pixmaps work

--------------------------------------------------------------------------------
from jdi: Tue May 26 09:50:37 PDT 1992

NOTES
    1: Delete:
	clim/output-recording-protocol.lisp
	clim/output-recording-defs.lisp


CHANGES
	-- Fixed scroll-extent so that copied region is correct, also so that
	   repaint is correctly clipped to newly visible region.

	-- Added with-medium-clipping-region macro to support above.

	-- Optimized s'more gcontext code and #||#ed out unused code.

	-- Put in window-width,height,depth readers.

	-- Moved setting of backing store to exposure callback.

	-- Created new gcontext subclass to allow much faster adjust-ink.

	-- Get rid of 'unknown event 4'.

	-- Have draw-rotated-text null out gcontext clip mask cache.

	-- Other minor cleanups & speedups.


--------------------------------------------------------------------------------
from jdi: Wed May 13 17:13:58 PDT 1992

	Added print-object method for window-repaint-event

	Optimize invoke-with-sheet-medium.

	Made xm-proto-callback-info c-type be :in-foreign-space by default
	since it is captured by C.

	Made ':line-dashes t' work by fixing adjust-ink.

	Optimized port-draw-* functions.

	Optimized convert-to-device-* macros.

	Added fast-abs macro to lisp-utilities.  Do abs() assuming all fixnums.

	Lots of other speedups.

	Made object-display slot fixed index (0).
	  Fixed Lisp's slot-value-using-class macro to allow this
	  without having to heavily munge CLIM source.

	Cached clip-mask in medium.  Update it lazily when needed.  Invalidate
	it when necessary.

	Cached clip-mask in medium, and medium in ink.
	  Only send a request to X when necessary.

	Wrote lisp-xdrawstring.

	Added XmMyDrawingArea (for lack of better name).  It compresses
	exposure events.

	Made xid->object mapping be specialized per display.

	Highly optimized set-values, get-values, and resource converters

	Other misc stuff too boring to describe here.


Timings of:

(defun foo (port sheet)
  (declare (optimize (speed 3) (safety 0)))
  (dotimes (i 1000) (silica:mirror-region* port sheet)))

Where sheet is the application pane.

Original:
	cpu time (non-gc) 1983 msec user, 34 msec system
	cpu time (gc)     0 msec user, 0 msec system
	cpu time (total)  1983 msec user, 34 msec system
	real time  2030 msec
	space allocation:
	 24010 cons cells, 0 symbols, 72096 other bytes,

After resource allocation and rework of get-values:
	cpu time (non-gc) 1400 msec user, 33 msec system
	cpu time (gc)     0 msec user, 0 msec system
	cpu time (total)  1400 msec user, 33 msec system
	real time  1450 msec
	space allocation:
	 13002 cons cells, 0 symbols, 32 other bytes,

After caching whole sucker in class:
	cpu time (non-gc) 583 msec user, 0 msec system
	cpu time (gc)     0 msec user, 0 msec system
	cpu time (total)  583 msec user, 0 msec system
	real time  600 msec
	space allocation:
	 4002 cons cells, 0 symbols, 32 other bytes,

--

Timings of:

(defun bar (viewport)
  (declare (optimize (speed 3) (safety 0)))
  (let ((vertbar (silica::scroller-pane-vertical-scroll-bar
		   (sheet-parent (sheet-parent viewport)))))
    (dotimes (i 1000) (silica:change-scroll-bar-values vertbar :slider-size .8 :value .1))))

Where sheet is the viewport after the Gettysburg demo runs.

Original:
	cpu time (non-gc) 2850 msec user, 66 msec system
	cpu time (gc)     0 msec user, 0 msec system
	cpu time (total)  2850 msec user, 66 msec system
	real time  3000 msec
	space allocation:
	 32010 cons cells, 0 symbols, 368096 other bytes,

After caching whole sucker in class:
	cpu time (non-gc) 1300 msec user, 16 msec system
	cpu time (gc)     0 msec user, 0 msec system
	cpu time (total)  1300 msec user, 16 msec system
	real time  1360 msec
	space allocation:
	 11001 cons cells, 0 symbols, 256032 other bytes,
--------------------------------------------------------------------------------
from jdi: Tue Apr 21 16:45:10 PDT 1992

FILES MOVED OR CHANGED:
	deleted:
		xlib/xlib.lisp
		tk/xtk.lisp
	added:
		tk/xt-defs.lisp
		tk/xm-defs.lisp
		tk/ol-defs.lisp
		tk/ol-funs.lisp

--

IGNORE JDI SPECIFIC CHANGES TO Makefile

--

	Turn on call counting and declared-fixnums-remain-fixnums when
	compiling Clim.
		-- misc/compile-1

	Repoint scm links.
		-- misc/dec-load-1

	Make clim-small build work.
		-- misc/load-xm

	tk/xtk becomes tk/xt-defs.  Added tk/xm-defs, tk/ol-defs, and tk/ol-funs.
		-- sys/sysdcl

	Renamed foreign functions consistently.  All XT foreign functions
	are named like:
		xt_add_callback
	OL and XM are similiar
		-- lots

	Moved all def-c-types to tk/??-defs files.
		-- lots

	Moved all defforeigns to tk/??-funs files.

	Opencode some foreign functions (those that are used a lot)

	Event loop reworked -- added wait-for-event function so you can
	wait for an event before grabbing the event lock.  Added event
	locking so you can handle events synchronously.
	
	Added code to grab certain matching events from the event queue.
		-- get-event-matching-sequence-and-types

	Added synchronous event handling to copy-area to handle graphics-
	expose events.

	Miscellaneous cleanup of gcontext code.

	Made c-types be created in lisp space, unless they have to be in
	C space.

	Fixed lookup-string, encode-dashes, draw-polygon*, and other places
	that called malloc to not call malloc -- either use resource or
	make-vector.

	Made drawing with simple opacities (of the foreground color) work.

	Made port event handler restartable.

	Integrated Sun's copyright

	Lots of other stuff
